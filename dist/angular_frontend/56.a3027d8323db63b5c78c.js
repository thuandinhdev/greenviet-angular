(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{JmRc:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("0bV8"),i=function(l){return new u.a(l,"../assets/i18n/",".json")},a=function(){return function(){}}(),s=e("pMnS"),o=e("ZYCi"),d=e("Ip0R"),r=e("eajB"),c=e("lqqz"),m=e("NJnL"),p=e("A7o+"),g=e("1EpG"),v=e("xtZt"),f=e("ihYY"),h=e("M44Q"),b=e("K+Kt"),C=e("y8gV"),y=e("AytR"),x=e("t/Na"),R=function(){function l(l){this.http=l,this.apiUrl=y.a.apiUrl}return l.prototype.getAll=function(l){return this.http.get(this.apiUrl+"/api/estimates")},l.prototype.getById=function(l){return this.http.get(this.apiUrl+"/api/estimates/"+l)},l.prototype.create=function(l){return this.http.post(this.apiUrl+"/api/estimates",l)},l.prototype.update=function(l){return this.http.put(this.apiUrl+"/api/estimates/"+l.id,l)},l.prototype.delete=function(l){return this.http.delete(this.apiUrl+"/api/estimates/"+l)},l.prototype.changeStatus=function(l){return this.http.post(this.apiUrl+"/api/estimates/change-status/"+l.id,{status:l.status})},l.prototype.download=function(l){return this.http.get(this.apiUrl+"/api/estimates/download/"+l)},l.ngInjectableDef=t["ɵɵdefineInjectable"]({factory:function(){return new l(t["ɵɵinject"](x.c))},token:l,providedIn:"root"}),l}(),_=[];_.draft="common.status.draft",_.sent="common.status.sent",_.expired="common.status.expired",_.declined="common.status.declined",_.accepted="common.status.accepted",_.paid="common.status.paid",_.partially_paid="common.status.partially_paid",_.unpaid="common.status.unpaid",e("oTcB");var I=e("K9Ia"),T=e("PSD3"),D=e.n(T),V=(e("FlOX"),e("e1J8"),function(){function l(l,n,e,t,u,i){var a=this;this.translate=l,this.exportAsService=n,this.http=e,this.toastr=t,this.authenticationService=u,this.estimateService=i,this.apiUrl=y.a.apiUrl,this.dtTrigger=new I.a,this.dtOptions={},this.estimates=[],this.exportAsConfig={type:"pdf",elementIdOrContent:"estimate_table"},this.estimateStatusKeyValue=_,this.authenticationService.loginUser.subscribe((function(l){return a.loginUser=l}))}return l.prototype.ngOnInit=function(){this.loadDatatable()},l.prototype.loadDatatable=function(){var l=this,n=this;this.dtOptions={pagingType:"full_numbers",pageLength:n.loginUser.settings.tables_pagination_limit,serverSide:!0,processing:!0,dom:'<"html5buttons"B>ltfrtip',order:[0],columns:[{sortable:!0,width:"16%",target:[0]},{sortable:!0,width:"16%",target:[1]},{sortable:!0,width:"16%",target:[2]},{sortable:!0,width:"16%",target:[3]},{sortable:!0,width:"16%",target:[4]},{sortable:!0,width:"15%",target:[5]},{sortable:!1,width:"5%",target:[6]}],buttons:[{extend:"csv",className:"btn btn-datatable-gredient",action:function(l,e,t,u){n.exportFiles("csv")}},{extend:"excel",className:"btn btn-datatable-gredient",action:function(l,e,t,u){n.exportFiles("xlsx")}},{extend:"pdf",className:"btn btn-datatable-gredient",action:function(l,e,t,u){n.exportFiles("pdf")}}],language:{sEmptyTable:this.translate.instant("common.datatable.sEmptyTable"),sInfo:this.translate.instant("common.datatable.sInfo"),sInfoEmpty:this.translate.instant("common.datatable.sInfoEmpty"),sSearch:"",sInfoPostFix:this.translate.instant("common.datatable.sInfoPostFix"),sInfoThousands:this.translate.instant("common.datatable.sInfoThousands"),sLengthMenu:this.translate.instant("common.datatable.sLengthMenu"),sLoadingRecords:this.translate.instant("common.datatable.sLoadingRecords"),sProcessing:this.translate.instant("common.datatable.sProcessing"),sZeroRecords:this.translate.instant("common.datatable.sZeroRecords"),sSearchPlaceholder:this.translate.instant("common.datatable.sSearchPlaceholder"),oPaginate:{sFirst:this.translate.instant("common.datatable.oPaginate.sFirst"),sLast:this.translate.instant("common.datatable.oPaginate.sLast"),sNext:this.translate.instant("common.datatable.oPaginate.sNext"),sPrevious:this.translate.instant("common.datatable.oPaginate.sPrevious")},oAria:{sSortAscending:this.translate.instant("common.datatable.oAria.sSortAscending"),sSortDescending:this.translate.instant("common.datatable.oAria.sSortDescending")}},ajax:function(n,e){l.http.post(l.apiUrl+"/api/all-estimates",n,{}).subscribe((function(n){l.estimates=n.data,l.settings=n,l.settings=l.settings.settings,e({recordsTotal:n.recordsTotal,recordsFiltered:n.recordsFiltered,data:[]})}))}}},l.prototype.exportFiles=function(l){this.exportAsConfig.type=l,this.exportAsService.save(this.exportAsConfig,this.translate.instant("estimates.title")).subscribe((function(){}))},l.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},l.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},l.prototype.rerender=function(){var l=this;this.dtElement.dtInstance.then((function(n){n.destroy(),setTimeout((function(){l.dtTrigger.next(),l.estimates.length>0?$(".tfoot_dt").addClass("d-none"):$(".tfoot_dt").removeClass("d-none")}))}))},l.prototype.changeEstimateStatus=function(l,n){var e=this;this.estimateService.changeStatus({id:l,status:n.id}).subscribe((function(l){e.toastr.success(e.translate.instant("estimates.messages.status"),e.translate.instant("estimates.title")),e.rerender()}))},l.prototype.deleteEstimate=function(l){var n=this;D.a.fire({title:this.translate.instant("common.swal.title"),text:this.translate.instant("common.swal.text")+this.translate.instant("estimates.title1"),type:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("common.swal.confirmButtonText"),cancelButtonText:this.translate.instant("common.swal.cancelButtonText")}).then((function(e){e.value&&n.estimateService.delete(l).subscribe((function(l){n.toastr.success(n.translate.instant("estimates.messages.delete"),n.translate.instant("estimates.title")),n.rerender()}))}))},l.prototype.getTranslateStatus=function(l){return this.estimateStatusKeyValue[l]},l}()),w=e("I5r7"),j=e("SZbH"),q=t["ɵcrt"]({encapsulation:0,styles:[[".hide_empty_message[_ngcontent-%COMP%]     .odd{display:none}"]],data:{}});function S(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,6,"div",[["class","card-buttons"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,16777216,null,null,5,"a",[["class","btn btn-create mb-0"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["ɵdid"](2,671744,null,0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["ɵpad"](3,1),t["ɵdid"](4,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](6,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null))],(function(l,n){var e=l(n,3,0,"/estimates/create");l(n,2,0,e),l(n,4,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,4,0,t["ɵnov"](n,5).transform("common.create")),""))}),(function(l,n){l(n,1,0,t["ɵnov"](n,2).target,t["ɵnov"](n,2).href,t["ɵnov"](n,4).ariaDescribedby)}))}function N(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),t["ɵted"](1,null,["",""]))],null,(function(l,n){l(n,0,0,t["ɵinlineInterpolate"](1,"",n.parent.context.$implicit.class,"")),l(n,1,0,n.parent.context.$implicit.label)}))}function F(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,N)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](0,null,null,0))],(function(l,n){l(n,2,0,n.context.$implicit.id==n.parent.context.$implicit.status)}),null)}function E(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,3,"a",[["class","dropdown-item btn btn-download btn-raised"]],[[8,"href",4]],null,null,null,null)),(l()(),t["ɵeld"](1,16777216,null,null,2,"i",[["class","fa fa-download"]],[[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](2,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,2,0,t["ɵnov"](n,3).transform("common.download")),""))}),(function(l,n){l(n,0,0,t["ɵinlineInterpolate"](3,"",n.component.apiUrl,"/estimates/download/",n.parent.parent.context.$implicit.secret_id,"/",n.parent.parent.context.$implicit.client_id,"")),l(n,1,0,t["ɵnov"](n,2).ariaDescribedby)}))}function P(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,5,"a",[["class","dropdown-item btn btn-edit btn-raised"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["ɵdid"](1,671744,null,0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["ɵpad"](2,2),(l()(),t["ɵeld"](3,16777216,null,null,2,"i",[["class","fa fa-pencil-square-o"]],[[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](4,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){var e=l(n,2,0,"/estimates/edit",n.parent.parent.context.$implicit.id);l(n,1,0,e),l(n,4,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,4,0,t["ɵnov"](n,5).transform("common.edit")),""))}),(function(l,n){l(n,0,0,t["ɵnov"](n,1).target,t["ɵnov"](n,1).href),l(n,3,0,t["ɵnov"](n,4).ariaDescribedby)}))}function k(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,3,"a",[["class","dropdown-item btn btn-delete btn-raised"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteEstimate(l.parent.parent.context.$implicit.id)&&t),t}),null,null)),(l()(),t["ɵeld"](1,16777216,null,null,2,"i",[["class","fa fa-trash-o"]],[[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](2,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,2,0,t["ɵnov"](n,3).transform("common.delete")),""))}),(function(l,n){l(n,1,0,t["ɵnov"](n,2).ariaDescribedby)}))}function O(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,12,"ul",[["aria-labelledby","button-basic-1"],["class","dropdown-menu animated fadeIn"],["id","dropdown-basic-1"],["role","menu"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,3,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,E)),t["ɵdid"](3,737280,null,0,g.NgxPermissionsDirective,[g.NgxPermissionsService,g.NgxPermissionsConfigurationService,g.NgxRolesService,t.ViewContainerRef,t.ChangeDetectorRef,t.TemplateRef],{ngxPermissionsOnly:[0,"ngxPermissionsOnly"]},null),t["ɵpad"](4,3),(l()(),t["ɵeld"](5,0,null,null,3,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,P)),t["ɵdid"](7,737280,null,0,g.NgxPermissionsDirective,[g.NgxPermissionsService,g.NgxPermissionsConfigurationService,g.NgxRolesService,t.ViewContainerRef,t.ChangeDetectorRef,t.TemplateRef],{ngxPermissionsOnly:[0,"ngxPermissionsOnly"]},null),t["ɵpad"](8,3),(l()(),t["ɵeld"](9,0,null,null,3,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,k)),t["ɵdid"](11,737280,null,0,g.NgxPermissionsDirective,[g.NgxPermissionsService,g.NgxPermissionsConfigurationService,g.NgxRolesService,t.ViewContainerRef,t.ChangeDetectorRef,t.TemplateRef],{ngxPermissionsOnly:[0,"ngxPermissionsOnly"]},null),t["ɵpad"](12,3)],(function(l,n){var e=l(n,4,0,"admin","super_admin","estimates_view");l(n,3,0,e);var t=l(n,8,0,"admin","super_admin","estimates_edit");l(n,7,0,t);var u=l(n,12,0,"admin","super_admin","estimates_delete");l(n,11,0,u)}),null)}function A(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,29,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["ɵdid"](3,671744,null,0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["ɵpad"](4,2),(l()(),t["ɵted"](5,null,["",""])),(l()(),t["ɵeld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](7,null,[""," ",""])),(l()(),t["ɵeld"](8,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](9,null,["",""])),t["ɵppd"](10,2),(l()(),t["ɵeld"](11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](12,null,["",""])),t["ɵppd"](13,2),(l()(),t["ɵeld"](14,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](15,null,["","",""])),t["ɵppd"](16,2),(l()(),t["ɵeld"](17,0,null,null,3,"td",[["class","budges-status"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,F)),t["ɵdid"](19,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](21,0,null,null,8,"td",[["class","actions-dropdown"]],null,null,null,null,null)),(l()(),t["ɵeld"](22,16777216,null,null,7,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["ɵprd"](512,null,v.f,v.f,[]),t["ɵdid"](24,212992,null,0,v.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a,v.f,v.a,f.b],null,null),(l()(),t["ɵeld"](25,0,null,null,2,"button",[["aria-controls","dropdown-basic-1"],["class","dropdown-toggle btn-action"],["dropdownToggle",""],["id","button-basic-1"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,26).onClick()&&u),u}),null,null)),t["ɵdid"](26,147456,null,0,v.g,[t.ChangeDetectorRef,v.c,t.ElementRef,t.Renderer2,v.f],null,null),(l()(),t["ɵeld"](27,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,O)),t["ɵdid"](29,16384,null,0,v.d,[v.f,t.ViewContainerRef,t.TemplateRef],null,null)],(function(l,n){var e=l(n,4,0,"/estimates/detail",n.context.$implicit.id);l(n,3,0,e),l(n,19,0,t["ɵunv"](n,19,0,t["ɵnov"](n,20).transform("estimates.status"))),l(n,24,0)}),(function(l,n){var e=n.component;l(n,2,0,t["ɵnov"](n,3).target,t["ɵnov"](n,3).href),l(n,5,0,n.context.$implicit.estimate_number),l(n,7,0,n.context.$implicit.client_firstname,n.context.$implicit.client_lastname);var u=t["ɵunv"](n,9,0,l(n,10,0,t["ɵnov"](n.parent,0),n.context.$implicit.estimate_date,e.loginUser.settings.date_format));l(n,9,0,u);var i=t["ɵunv"](n,12,0,l(n,13,0,t["ɵnov"](n.parent,0),n.context.$implicit.valid_till,e.loginUser.settings.date_format));l(n,12,0,i);var a=e.loginUser.currency.symbol,s=t["ɵunv"](n,15,1,l(n,16,0,t["ɵnov"](n.parent,1),n.context.$implicit.total_amount,"1.2-2"));l(n,15,0,a,s),l(n,22,0,t["ɵnov"](n,24).dropup,t["ɵnov"](n,24).isOpen,t["ɵnov"](n,24).isOpen&&t["ɵnov"](n,24).isBs4),l(n,25,0,!0,t["ɵnov"](n,26).isDisabled,t["ɵnov"](n,26).isOpen)}))}function U(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,4,"tfoot",[["class","tfoot_dt"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"td",[["class","no-data-available text-center"],["colspan","7"]],null,null,null,null,null)),(l()(),t["ɵted"](3,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,3,0,t["ɵunv"](n,3,0,t["ɵnov"](n,4).transform("common.datatable.sEmptyTable")))}))}function L(l){return t["ɵvid"](0,[t["ɵpid"](0,h.a,[]),t["ɵpid"](0,d.DecimalPipe,[t.LOCALE_ID]),t["ɵqud"](402653184,1,{dtElement:0}),(l()(),t["ɵeld"](3,0,null,null,46,"section",[["class","hide_empty_message"]],null,null,null,null,null)),(l()(),t["ɵeld"](4,0,null,null,45,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](5,0,null,null,44,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,43,"div",[["class","card pl-2 pr-2"]],null,null,null,null,null)),(l()(),t["ɵeld"](7,0,null,null,7,"div",[["class","card-header pl-0 pr-0 border-bottom"]],null,null,null,null,null)),(l()(),t["ɵeld"](8,0,null,null,3,"h4",[["class","main-title mt-2"]],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](10,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵand"](16777216,null,null,2,null,S)),t["ɵdid"](13,737280,null,0,g.NgxPermissionsDirective,[g.NgxPermissionsService,g.NgxPermissionsConfigurationService,g.NgxRolesService,t.ViewContainerRef,t.ChangeDetectorRef,t.TemplateRef],{ngxPermissionsOnly:[0,"ngxPermissionsOnly"]},null),t["ɵpad"](14,3),(l()(),t["ɵeld"](15,0,null,null,34,"div",[["class","card-content pt-3 pb-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](16,0,null,null,33,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](17,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](18,0,null,null,31,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](19,0,null,null,30,"div",[["class","table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl"]],null,null,null,null,null)),(l()(),t["ɵeld"](20,0,null,null,29,"table",[["class","table table-bordered table-hover b4-datatable"],["datatable",""],["id","estimate_table"],["width","100%"]],null,null,null,null,null)),t["ɵdid"](21,212992,[[1,4]],0,b.a,[t.ElementRef],{dtOptions:[0,"dtOptions"],dtTrigger:[1,"dtTrigger"]},null),(l()(),t["ɵeld"](22,0,null,null,22,"thead",[],null,null,null,null,null)),(l()(),t["ɵeld"](23,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](24,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](25,null,[""," #"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](27,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](28,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](30,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](31,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](33,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](34,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](36,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](37,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](39,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](40,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](42,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](43,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](45,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,A)),t["ɵdid"](47,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,U)),t["ɵdid"](49,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,14,0,"admin","super_admin","estimates_create");l(n,13,0,t),l(n,21,0,e.dtOptions,e.dtTrigger),l(n,47,0,e.estimates),l(n,49,0,0==(null==e.estimates?null:e.estimates.length))}),(function(l,n){l(n,10,0,t["ɵunv"](n,10,0,t["ɵnov"](n,11).transform("estimates.title"))),l(n,25,0,t["ɵunv"](n,25,0,t["ɵnov"](n,26).transform("estimates.columns.estimate_number"))),l(n,28,0,t["ɵunv"](n,28,0,t["ɵnov"](n,29).transform("estimates.columns.customer"))),l(n,31,0,t["ɵunv"](n,31,0,t["ɵnov"](n,32).transform("estimates.columns.estimate_date"))),l(n,34,0,t["ɵunv"](n,34,0,t["ɵnov"](n,35).transform("estimates.columns.valid_till"))),l(n,37,0,t["ɵunv"](n,37,0,t["ɵnov"](n,38).transform("estimates.columns.total_amount"))),l(n,40,0,t["ɵunv"](n,40,0,t["ɵnov"](n,41).transform("estimates.columns.status"))),l(n,43,0,t["ɵunv"](n,43,0,t["ɵnov"](n,44).transform("common.actions")))}))}function B(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"app-estimate-lists",[],null,null,null,L,q)),t["ɵdid"](1,4440064,null,0,V,[p.j,w.b,x.c,j.j,C.a,R],null,null)],(function(l,n){l(n,1,0)}),null)}var K=t["ɵccf"]("app-estimate-lists",V,B,{},{},[]),M=e("QpxQ"),H=e("l9Rt"),Z=e("1kW/"),G=e("3rRm"),z=e("5vOF"),W=e("xyfA"),Y=e("XN/a"),J=e("gIcY"),Q=e("gMr2"),X=e("ARl4"),ll=e("PMH4"),nl=e("LrUA"),el=e("y6ow"),tl=e("mptg"),ul=e("wb4Y"),il=function(){function l(l,n,e,t,u,i,a,s,o,d,r){var c=this;this.translate=l,this.datepipe=n,this.router=e,this.formBuilder=t,this.toastr=u,this.estimateService=i,this.clientService=a,this.itemService=s,this.taxService=o,this.estimateSettingService=d,this.authenticationService=r,this.clients=[],this.items=[],this.itemsArray=[],this.taxes=[],this.itemTaxes=[],this.taxesNameValues=[],this.estimates={sub_total:0,total_taxes:0,discount:0,adjustment:0,total:0},this.total_discount=0,this.isFormSubmitted=!1,this.isFormLoaded=!1,this.datepickerConfig=ul.b,this.authenticationService.loginUser.subscribe((function(l){return c.loginUser=l})),this.datepickerConfig.dateInputFormat=this.loginUser.settings.date_format}return l.prototype.ngOnInit=function(){this.getEstimateSettings(),this.getClients(),this.getTaxes()},l.prototype.loadForm=function(){this.createEstimateForm=this.formBuilder.group({client_id:[null,J.y.required],estimate_date:[new Date,J.y.required],valid_till:[this.addDays(new Date,this.estimateSettings.due_after),J.y.required],reference:[null],discount_type:["percent"],discount:[0],adjustment:[0],status:["sent",J.y.required],selectedItem:[null],item:this.formBuilder.group({item_name:[null],item_description:[null],quantity:[null],unit_price:[null],item_unit:[null],taxes:[null],amount:[null]}),items:[]}),this.isFormLoaded=!0},Object.defineProperty(l.prototype,"estimateControl",{get:function(){return this.createEstimateForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"itemControl",{get:function(){return this.createEstimateForm.get("item")},enumerable:!0,configurable:!0}),l.prototype.getClients=function(){var l=this;this.clientService.getAll().subscribe((function(n){l.clients=n,l.getItems()}))},l.prototype.getItems=function(){var l=this;this.itemService.getAll().subscribe((function(n){l.items=n,l.loadForm()}))},l.prototype.getTaxes=function(){var l=this;this.taxService.getAll().subscribe((function(n){for(var e in l.taxes=n,l.taxes)null==l.taxesNameValues[l.taxes[e].id]&&(l.taxesNameValues[l.taxes[e].id]=[]),l.taxesNameValues[l.taxes[e].id]=l.taxes[e]}))},l.prototype.getEstimateSettings=function(){var l=this;this.estimateSettingService.getAll().subscribe((function(n){l.estimateSettings=n}))},l.prototype.addDays=function(l,n){return new Date(l.setDate(l.getDate()+n))},l.prototype.changeItem=function(l){if(l){var n=[];for(var e in l.taxes)n.push(l.taxes[e].id);this.itemControl.patchValue({item_name:l.name}),this.itemControl.patchValue({item_description:l.description}),this.itemControl.patchValue({quantity:1}),this.itemControl.patchValue({unit_price:l.price}),this.itemControl.patchValue({item_unit:l.unit}),this.itemControl.patchValue({taxes:n})}},l.prototype.resetChildForm=function(){this.itemControl.patchValue({item_name:null}),this.itemControl.patchValue({item_description:null}),this.itemControl.patchValue({quantity:null}),this.itemControl.patchValue({unit_price:null}),this.itemControl.patchValue({item_unit:null}),this.itemControl.patchValue({taxes:[]})},l.prototype.changeDiscountType=function(l){"not_discount"==l.id&&(this.estimates.discount=0),this.getItemTaxes()},l.prototype.changeDiscountAdjustment=function(l,n){if("discount"==n){if("not_discount"==this.createEstimateForm.value.discount_type)return void this.toastr.error(this.translate.instant("estimates.create.error_messages.message7"),this.translate.instant("estimates.title"));this.estimates.discount=parseFloat(l.target.value)}else this.estimates.adjustment=parseFloat(l.target.value);isNaN(this.estimates.discount)&&(this.estimates.discount=0),isNaN(this.estimates.adjustment)&&(this.estimates.adjustment=0),this.getItemTaxes()},l.prototype.addItem=function(l){l.preventDefault();var n=this.createEstimateForm.value.item;if(null==n.item_name||null==n.quantity||null==n.unit_price)return this.toastr.error(this.translate.instant("estimates.create.error_messages.message6"),this.translate.instant("estimates.title")),!1;this.itemsArray.push(n),this.resetChildForm(),this.estimates.discount=this.createEstimateForm.value.discount,this.estimates.adjustment=this.createEstimateForm.value.adjustment,this.getItemTaxes()},l.prototype.saveItemDetail=function(l,n,e){this.itemsArray[l][n]=e,this.getItemTaxes()},l.prototype.deleteItem=function(l){this.itemsArray.splice(l,1),this.getItemTaxes()},l.prototype.getItemTaxes=function(){this.itemTaxes=[],this.estimates.sub_total=0,this.estimates.total_taxes=0,this.estimates.total=0,this.total_discount=0;var l=0;for(var n in this.itemsArray){for(var e in l=this.itemsArray[n].quantity*this.itemsArray[n].unit_price,this.itemsArray[n].taxes){var t;null==this.itemTaxes[this.itemsArray[n].taxes[e]]&&(this.itemTaxes[this.itemsArray[n].taxes[e]]=0),this.estimates.total_taxes+=t=l*this.taxesNameValues[this.itemsArray[n].taxes[e]].tax_rate/100,this.itemTaxes[this.itemsArray[n].taxes[e]]=this.itemTaxes[this.itemsArray[n].taxes[e]]+t}this.estimates.sub_total+=l}this.total_discount="percent"==this.createEstimateForm.value.discount_type?(this.estimates.sub_total+this.estimates.total_taxes)*this.estimates.discount/100:this.estimates.discount,this.estimates.total=this.estimates.sub_total+this.estimates.total_taxes-this.total_discount+this.estimates.adjustment},l.prototype.onSubmit=function(){var l=this;if(this.isFormSubmitted=!0,!this.createEstimateForm.invalid)if(0!=this.itemsArray.length){var n={client_id:this.createEstimateForm.value.client_id,estimate_date:this.datepipe.transform(this.createEstimateForm.value.estimate_date,"yyyy-MM-dd"),valid_till:this.createEstimateForm.value.valid_till,status:this.createEstimateForm.value.status,reference:this.createEstimateForm.value.reference,adjustment:this.estimates.adjustment,discount_type:this.createEstimateForm.value.discount_type,discount:this.estimates.discount,items:this.itemsArray};this.estimateService.create(n).subscribe((function(n){l.toastr.success(l.translate.instant("estimates.messages.create"),l.translate.instant("estimates.title")),l.router.navigate(["estimates"])}))}else this.toastr.error(this.translate.instant("estimates.create.error_messages.message5"),this.translate.instant("estimates.title"))},l}(),al=t["ɵcrt"]({encapsulation:0,styles:[[".ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-width:500px}.inp[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #e8eef3;padding:5px 10px;outline:0;width:100%}[placeholder][_ngcontent-%COMP%]:focus::-webkit-input-placeholder{transition:text-indent .4s .4s ease;text-indent:-100%;opacity:1}"]],data:{}});function sl(l){return t["ɵvid"](0,[(l()(),t["ɵted"](0,null,[" "," "," "]))],null,(function(l,n){l(n,0,0,n.context.item.firstname,n.context.item.lastname)}))}function ol(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message1")))}))}function dl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,ol)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.client_id.errors.required)}),null)}function rl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message2")))}))}function cl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,rl)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.estimate_date.errors.required)}),null)}function ml(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message3")))}))}function pl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,ml)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.valid_till.errors.required)}),null)}function gl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,6,"div",[["class","card mt-1 mb-1"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,5,"div",[["class","card-body p-2"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"h5",[["class","card-title"]],null,null,null,null,null)),t["ɵdid"](3,4734976,null,0,M.m,[t.ElementRef,t.Renderer2],{term:[0,"term"]},null),(l()(),t["ɵted"](4,null,["(","",") ",""])),(l()(),t["ɵeld"](5,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t["ɵted"](6,null,["",""]))],(function(l,n){l(n,3,0,n.context.searchTerm)}),(function(l,n){l(n,4,0,n.component.loginUser.currency.symbol,n.context.item.price,n.context.item.name),l(n,6,0,n.context.item.description)}))}function vl(l){return t["ɵvid"](0,[(l()(),t["ɵted"](0,null,[" ","(","%) "]))],null,(function(l,n){l(n,0,0,n.context.item.tax_name,n.context.item.tax_rate)}))}function fl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,5,"ul",[["aria-labelledby","button-basic-1"],["class","dropdown-menu animated fadeIn"],["id","dropdown-basic-1"],["role","menu"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,3,"a",[["class","dropdown-item btn btn-delete btn-raised"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteItem(l.parent.context.index)&&t),t}),null,null)),(l()(),t["ɵeld"](3,16777216,null,null,2,"i",[["class","fa fa-trash-o"]],[[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](4,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){l(n,4,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,4,0,t["ɵnov"](n,5).transform("common.delete")),""))}),(function(l,n){l(n,3,0,t["ɵnov"](n,4).ariaDescribedby)}))}function hl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,31,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"item_name",e)&&t),t}),H.b,H.a)),t["ɵdid"](3,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](5,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,2,"inline-edit-textarea",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"item_description",e)&&t),t}),G.b,G.a)),t["ɵdid"](7,114688,null,0,z.a,[t.Renderer],{name:[0,"name"],elementFor:[1,"elementFor"],fieldValue:[2,"fieldValue"],isRequired:[3,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](9,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](10,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"quantity",e)&&t),t}),H.b,H.a)),t["ɵdid"](11,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](13,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](14,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"unit_price",e)&&t),t}),H.b,H.a)),t["ɵdid"](15,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](17,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](18,0,null,null,2,"inline-edit-select-items",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"taxes",e)&&t),t}),W.b,W.a)),t["ɵdid"](19,114688,null,0,Y.a,[t.Renderer],{name:[0,"name"],elementFor:[1,"elementFor"],txtField:[2,"txtField"],selectedValue:[3,"selectedValue"],isRequired:[4,"isRequired"],options:[5,"options"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](21,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](22,null,["",""])),(l()(),t["ɵeld"](23,0,null,null,8,"td",[["class","actions-dropdown text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](24,16777216,null,null,7,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["ɵprd"](512,null,v.f,v.f,[]),t["ɵdid"](26,212992,null,0,v.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a,v.f,v.a,f.b],null,null),(l()(),t["ɵeld"](27,0,null,null,2,"button",[["aria-controls","dropdown-basic-1"],["class","dropdown-toggle btn-action"],["dropdownToggle",""],["id","button-basic-1"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,28).onClick()&&u),u}),null,null)),t["ɵdid"](28,147456,null,0,v.g,[t.ChangeDetectorRef,v.c,t.ElementRef,t.Renderer2,v.f],null,null),(l()(),t["ɵeld"](29,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,fl)),t["ɵdid"](31,16384,null,0,v.d,[v.f,t.ViewContainerRef,t.TemplateRef],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","item_name",t["ɵunv"](n,3,2,t["ɵnov"](n,4).transform("estimates.inline_edit.item_name")),n.context.$implicit.item_name,"true"),l(n,7,0,"item_description",t["ɵunv"](n,7,1,t["ɵnov"](n,8).transform("estimates.inline_edit.item_description")),n.context.$implicit.item_description,"false"),l(n,11,0,"number","quantity",t["ɵunv"](n,11,2,t["ɵnov"](n,12).transform("estimates.inline_edit.quantity")),n.context.$implicit.quantity,"true"),l(n,15,0,"number","unit_price",t["ɵunv"](n,15,2,t["ɵnov"](n,16).transform("estimates.inline_edit.unit_price")),n.context.$implicit.unit_price,"true"),l(n,19,0,"taxes",t["ɵunv"](n,19,1,t["ɵnov"](n,20).transform("estimates.inline_edit.item_tax")),"Taxes",n.context.$implicit.taxes,"true",e.taxes),l(n,26,0)}),(function(l,n){l(n,22,0,n.context.$implicit.quantity*n.context.$implicit.unit_price),l(n,24,0,t["ɵnov"](n,26).dropup,t["ɵnov"](n,26).isOpen,t["ɵnov"](n,26).isOpen&&t["ɵnov"](n,26).isBs4),l(n,27,0,!0,t["ɵnov"](n,28).isDisabled,t["ɵnov"](n,28).isOpen)}))}function bl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,11,null,null,null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](3,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](4,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](5,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](7,null,["","(","%)"])),(l()(),t["ɵeld"](8,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](9,null,["","",""])),t["ɵppd"](10,2),(l()(),t["ɵeld"](11,0,null,null,0,"td",[],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,7,0,e.taxesNameValues[n.parent.context.$implicit.key].tax_name,e.taxesNameValues[n.parent.context.$implicit.key].tax_rate);var u=e.loginUser.currency.symbol,i=t["ɵunv"](n,9,1,l(n,10,0,t["ɵnov"](n.parent.parent.parent,0),n.parent.context.$implicit.value,"1.2-2"));l(n,9,0,u,i)}))}function Cl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,bl)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function yl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,371,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,i=l.component;return"submit"===n&&(u=!1!==t["ɵnov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["ɵnov"](l,2).onReset()&&u),"ngSubmit"===n&&(u=!1!==i.onSubmit()&&u),u}),null,null)),t["ɵdid"](1,16384,null,0,J.C,[],null,null),t["ɵdid"](2,540672,null,0,J.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["ɵprd"](2048,null,J.c,null,[J.h]),t["ɵdid"](4,16384,null,0,J.q,[[4,J.c]],null,null),(l()(),t["ɵeld"](5,0,null,null,366,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,101,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](7,0,null,null,100,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,2,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["ɵted"](10,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](12,0,null,null,95,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](13,0,null,null,94,"div",[["class","px-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](14,0,null,null,93,"div",[["class","form-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](15,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](16,0,null,null,0,"i",[["aria-hidden","true"],["class","ft-user"]],null,null,null,null,null)),(l()(),t["ɵted"](17,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](19,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](20,0,null,null,32,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](21,0,null,null,31,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](23,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](24,{"is-invalid":0}),(l()(),t["ɵeld"](25,0,null,null,4,"label",[["for","client_id"]],null,null,null,null,null)),(l()(),t["ɵted"](26,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](28,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](30,0,null,null,20,"ng-select",[["bindLabel","firstname"],["bindValue","id"],["class","ng-select"],["formControlName","client_id"],["labelForId","client_id"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var u=!0;return"keydown"===n&&(u=!1!==t["ɵnov"](l,31).handleKeyDown(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](31,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],labelForId:[5,"labelForId"],searchable:[6,"searchable"],items:[7,"items"]},null),t["ɵqud"](335544320,1,{optionTemplate:0}),t["ɵqud"](335544320,2,{optgroupTemplate:0}),t["ɵqud"](335544320,3,{labelTemplate:0}),t["ɵqud"](335544320,4,{multiLabelTemplate:0}),t["ɵqud"](335544320,5,{headerTemplate:0}),t["ɵqud"](335544320,6,{footerTemplate:0}),t["ɵqud"](335544320,7,{notFoundTemplate:0}),t["ɵqud"](335544320,8,{typeToSearchTemplate:0}),t["ɵqud"](335544320,9,{loadingTextTemplate:0}),t["ɵqud"](335544320,10,{tagTemplate:0}),t["ɵqud"](335544320,11,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,12,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](46,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](48,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[1,2]],null,1,null,sl)),t["ɵdid"](50,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵand"](16777216,null,null,1,null,dl)),t["ɵdid"](52,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](53,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](54,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵted"](55,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](57,0,null,null,50,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](58,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](59,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](61,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](62,{"is-invalid":0}),(l()(),t["ɵeld"](63,0,null,null,4,"label",[["for","estimate_date"]],null,null,null,null,null)),(l()(),t["ɵted"](64,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](66,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](68,0,null,null,14,"div",[["class","position-relative has-icon-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](69,16777216,null,null,9,"input",[["bsDatepicker",""],["class","form-control"],["formControlName","estimate_date"],["id","estimate_date"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,70)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,70).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,70)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,70)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,72).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t["ɵnov"](l,72).hide()&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,72).onBlur()&&u),u}),null,null)),t["ɵdid"](70,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](71,737280,[["dp1",4]],0,X.c,[X.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a],{bsConfig:[0,"bsConfig"]},null),t["ɵdid"](72,16384,null,0,X.f,[X.c,X.n,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],null,null),t["ɵprd"](1024,null,J.m,(function(l){return[l]}),[X.f]),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,X.f]),t["ɵdid"](75,671744,null,0,J.g,[[3,J.c],[6,J.m],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](77,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](79,0,null,null,1,"div",[["class","form-control-position"]],null,null,null,null,null)),(l()(),t["ɵeld"](80,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,cl)),t["ɵdid"](82,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](83,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](84,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](86,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](87,{"is-invalid":0}),(l()(),t["ɵeld"](88,0,null,null,4,"label",[["for","end-date"]],null,null,null,null,null)),(l()(),t["ɵted"](89,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](91,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](93,0,null,null,14,"div",[["class","position-relative has-icon-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](94,16777216,null,null,9,"input",[["bsDatepicker",""],["class","form-control"],["formControlName","valid_till"],["id","valid_till"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,95)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,95).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,95)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,95)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,97).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t["ɵnov"](l,97).hide()&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,97).onBlur()&&u),u}),null,null)),t["ɵdid"](95,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](96,737280,[["dp2",4]],0,X.c,[X.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a],{bsConfig:[0,"bsConfig"]},null),t["ɵdid"](97,16384,null,0,X.f,[X.c,X.n,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],null,null),t["ɵprd"](1024,null,J.m,(function(l){return[l]}),[X.f]),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,X.f]),t["ɵdid"](100,671744,null,0,J.g,[[3,J.c],[6,J.m],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](102,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](104,0,null,null,1,"div",[["class","form-control-position"]],null,null,null,null,null)),(l()(),t["ɵeld"](105,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,pl)),t["ɵdid"](107,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](108,0,null,null,48,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](109,0,null,null,47,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](110,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,[" "])),(l()(),t["ɵeld"](112,0,null,null,44,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](113,0,null,null,43,"div",[["class","px-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](114,0,null,null,42,"div",[["class","form-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](115,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](116,0,null,null,0,"i",[["class","ft-box"]],null,null,null,null,null)),(l()(),t["ɵted"](117,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](119,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](120,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](121,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](122,0,null,null,2,"label",[["for","reference"]],null,null,null,null,null)),(l()(),t["ɵted"](123,null,[""," #"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](125,0,null,null,6,"input",[["class","form-control"],["formControlName","reference"],["id","reference"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,126)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,126).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,126)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,126)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](126,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](128,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](130,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](132,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](133,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](134,0,null,null,2,"label",[["for","type"]],null,null,null,null,null)),(l()(),t["ɵted"](135,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](137,0,null,null,19,"ng-select",[["bindLabel","label"],["bindValue","id"],["class","ng-select"],["formControlName","discount_type"],["labelForId","discount_type"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"keydown"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t["ɵnov"](l,138).handleKeyDown(e)&&u),"change"===n&&(u=!1!==i.changeDiscountType(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](138,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],labelForId:[5,"labelForId"],searchable:[6,"searchable"],items:[7,"items"]},{changeEvent:"change"}),t["ɵqud"](335544320,13,{optionTemplate:0}),t["ɵqud"](335544320,14,{optgroupTemplate:0}),t["ɵqud"](335544320,15,{labelTemplate:0}),t["ɵqud"](335544320,16,{multiLabelTemplate:0}),t["ɵqud"](335544320,17,{headerTemplate:0}),t["ɵqud"](335544320,18,{footerTemplate:0}),t["ɵqud"](335544320,19,{notFoundTemplate:0}),t["ɵqud"](335544320,20,{typeToSearchTemplate:0}),t["ɵqud"](335544320,21,{loadingTextTemplate:0}),t["ɵqud"](335544320,22,{tagTemplate:0}),t["ɵqud"](335544320,23,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,24,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](154,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](156,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](157,0,null,null,214,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](158,0,null,null,213,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](159,0,null,null,25,"div",[["class","card-form"]],null,null,null,null,null)),(l()(),t["ɵeld"](160,0,null,null,2,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["ɵted"](161,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](163,0,null,null,21,"div",[["class","card-button estimate-form"]],null,null,null,null,null)),(l()(),t["ɵeld"](164,0,null,null,20,"ng-select",[["bindLabel","name"],["bindValue","id"],["class","ng-select"],["formControlName","selectedItem"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"keydown"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t["ɵnov"](l,165).handleKeyDown(e)&&u),"change"===n&&(u=!1!==i.changeItem(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](165,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],items:[4,"items"]},{changeEvent:"change"}),t["ɵqud"](335544320,25,{optionTemplate:0}),t["ɵqud"](335544320,26,{optgroupTemplate:0}),t["ɵqud"](335544320,27,{labelTemplate:0}),t["ɵqud"](335544320,28,{multiLabelTemplate:0}),t["ɵqud"](335544320,29,{headerTemplate:0}),t["ɵqud"](335544320,30,{footerTemplate:0}),t["ɵqud"](335544320,31,{notFoundTemplate:0}),t["ɵqud"](335544320,32,{typeToSearchTemplate:0}),t["ɵqud"](335544320,33,{loadingTextTemplate:0}),t["ɵqud"](335544320,34,{tagTemplate:0}),t["ɵqud"](335544320,35,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,36,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](180,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](182,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[25,2]],null,1,null,gl)),t["ɵdid"](184,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵeld"](185,0,null,null,186,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](186,0,null,null,176,"div",[["class","table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl"]],null,null,null,null,null)),(l()(),t["ɵeld"](187,0,null,null,175,"table",[["class","table table-bordered table-hover b4-datatable"],["id","estimate_table"],["width","100%"]],null,null,null,null,null)),(l()(),t["ɵeld"](188,0,null,null,22,"thead",[],null,null,null,null,null)),(l()(),t["ɵeld"](189,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](190,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](191,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](193,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](194,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](196,0,null,null,2,"th",[["class","width-100"]],null,null,null,null,null)),(l()(),t["ɵted"](197,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](199,0,null,null,2,"th",[["class","width-150"]],null,null,null,null,null)),(l()(),t["ɵted"](200,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](202,0,null,null,2,"th",[["class","width-250"]],null,null,null,null,null)),(l()(),t["ɵted"](203,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](205,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](206,null,[""," (",")"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](208,0,null,null,2,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](209,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](211,0,null,null,82,"tbody",[],null,null,null,null,null)),(l()(),t["ɵeld"](212,0,null,null,79,"tr",[["formArrayName","item"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["ɵdid"](213,212992,null,0,J.e,[[3,J.c],[8,null],[8,null]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.c,null,[J.e]),t["ɵdid"](215,16384,null,0,J.q,[[4,J.c]],null,null),(l()(),t["ɵeld"](216,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](217,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](218,0,null,null,6,"input",[["class","form-control"],["formControlName","item_name"],["id","item_name"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,219)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,219).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,219)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,219)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](219,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](221,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](223,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](225,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](226,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](227,0,null,null,7,"textarea",[["class","form-control"],["formControlName","item_description"],["id","item_description"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,228)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,228).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,228)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,228)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](228,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](230,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](232,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵted"](-1,null,["\t\t\t\t\t\t\t\t\t\t\t\t"])),(l()(),t["ɵeld"](235,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](236,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](237,0,null,null,7,"input",[["class","form-control"],["formControlName","quantity"],["id","quantity"],["min","1"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,238)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,238).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,238)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,238)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,239).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,239).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,239).onTouched()&&u),u}),null,null)),t["ɵdid"](238,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](239,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](241,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](243,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](245,0,null,null,6,"input",[["class","inp"],["formControlName","item_unit"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,246)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,246).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,246)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,246)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](246,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](248,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](250,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](252,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](253,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](254,0,null,null,7,"input",[["class","form-control"],["formControlName","unit_price"],["id","unit_price"],["min","0"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,255)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,255).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,255)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,255)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,256).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,256).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,256).onTouched()&&u),u}),null,null)),t["ɵdid"](255,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](256,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](258,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](260,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](262,0,null,null,22,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](263,0,null,null,21,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](264,0,null,null,20,"ng-select",[["bindLabel","tax_name"],["bindValue","id"],["class","ng-select"],["formControlName","taxes"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var u=!0;return"keydown"===n&&(u=!1!==t["ɵnov"](l,265).handleKeyDown(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](265,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],multiple:[5,"multiple"],searchable:[6,"searchable"],items:[7,"items"]},null),t["ɵqud"](335544320,37,{optionTemplate:0}),t["ɵqud"](335544320,38,{optgroupTemplate:0}),t["ɵqud"](335544320,39,{labelTemplate:0}),t["ɵqud"](335544320,40,{multiLabelTemplate:0}),t["ɵqud"](335544320,41,{headerTemplate:0}),t["ɵqud"](335544320,42,{footerTemplate:0}),t["ɵqud"](335544320,43,{notFoundTemplate:0}),t["ɵqud"](335544320,44,{typeToSearchTemplate:0}),t["ɵqud"](335544320,45,{loadingTextTemplate:0}),t["ɵqud"](335544320,46,{tagTemplate:0}),t["ɵqud"](335544320,47,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,48,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](280,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](282,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[37,2]],null,1,null,vl)),t["ɵdid"](284,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵeld"](285,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,[" "])),(l()(),t["ɵeld"](287,0,null,null,4,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](288,16777216,null,null,3,"button",[["class","btn btn-secondary"],["placement","left"]],[[1,"aria-describedby",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(e)&&t),t}),null,null)),t["ɵdid"](289,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](291,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,hl)),t["ɵdid"](293,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["ɵeld"](294,0,null,null,68,"tbody",[["class","mt-4"]],null,null,null,null,null)),(l()(),t["ɵeld"](295,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](296,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](297,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](298,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](299,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](300,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](301,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](302,null,["",":"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](304,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](305,null,["","",""])),t["ɵppd"](306,2),(l()(),t["ɵeld"](307,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,Cl)),t["ɵdid"](309,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵpid"](0,d.KeyValuePipe,[t.KeyValueDiffers]),(l()(),t["ɵeld"](311,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](312,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](313,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](314,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](315,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](316,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](317,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](319,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](320,0,null,null,6,"input",[["class","form-control"],["formControlName","discount"],["name","discount"],["placeholder","00.00"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,321)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,321).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,321)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,321)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,322).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,322).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,322).onTouched()&&u),"change"===n&&(u=!1!==i.changeDiscountAdjustment(e,"discount")&&u),u}),null,null)),t["ɵdid"](321,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](322,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](324,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](326,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](327,0,null,null,2,"td",[["class","danger text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](328,null,["(-) ","",""])),t["ɵppd"](329,2),(l()(),t["ɵeld"](330,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](331,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](332,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](333,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](334,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](335,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](336,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](337,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](339,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](340,0,null,null,6,"input",[["class","form-control"],["formControlName","adjustment"],["min","0"],["name","adjustment"],["placeholder","00.00"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,341)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,341).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,341)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,341)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,342).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,342).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,342).onTouched()&&u),"change"===n&&(u=!1!==i.changeDiscountAdjustment(e,"adjustment")&&u),u}),null,null)),t["ɵdid"](341,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](342,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](344,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](346,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](347,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](348,null,["","",""])),(l()(),t["ɵeld"](349,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](350,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](351,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](352,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](353,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](354,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](355,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](356,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](357,null,["",":"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](359,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](360,null,["","",""])),t["ɵppd"](361,2),(l()(),t["ɵeld"](362,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](363,0,null,null,8,"div",[["class","col-md-12 text-right pt-3 pb-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](364,0,null,null,4,"a",[["class","btn btn-cancel mb-0"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,365).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["ɵdid"](365,671744,null,0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["ɵpad"](366,1),(l()(),t["ɵted"](367,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](369,0,null,null,2,"button",[["class","btn btn-submit mb-0"],["type","submit"]],null,null,null,null,null)),(l()(),t["ɵted"](370,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.createEstimateForm);var u=l(n,24,0,e.isFormSubmitted&&e.estimateControl.client_id.errors);l(n,23,0,"form-group",u),l(n,31,0,"firstname","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,31,3,t["ɵnov"](n,44).transform("estimates.create.placeholders.placeholder1")),""),!0,"client_id",!0,e.clients),l(n,46,0,"client_id"),l(n,52,0,e.isFormSubmitted&&e.estimateControl.client_id.errors);var i=l(n,62,0,e.isFormSubmitted&&e.estimateControl.estimate_date.errors);l(n,61,0,"form-group",i),l(n,71,0,e.datepickerConfig),l(n,75,0,"estimate_date"),l(n,82,0,e.isFormSubmitted&&e.estimateControl.estimate_date.errors);var a=l(n,87,0,e.isFormSubmitted&&e.estimateControl.valid_till.errors);l(n,86,0,"form-group",a),l(n,96,0,e.datepickerConfig),l(n,100,0,"valid_till"),l(n,107,0,e.isFormSubmitted&&e.estimateControl.valid_till.errors),l(n,128,0,"reference"),l(n,138,0,"label","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,138,3,t["ɵnov"](n,151).transform("estimates.create.placeholders.placeholder5")),""),!0,"discount_type",!0,t["ɵunv"](n,138,7,t["ɵnov"](n,152).transform("estimates.discount_type"))),l(n,154,0,"discount_type"),l(n,165,0,"name","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,165,3,t["ɵnov"](n,178).transform("estimates.create.placeholders.placeholder7")),""),e.items),l(n,180,0,"selectedItem"),l(n,213,0,"item"),l(n,221,0,"item_name"),l(n,230,0,"item_description"),l(n,241,0,"quantity"),l(n,248,0,"item_unit"),l(n,258,0,"unit_price"),l(n,265,0,"tax_name","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,265,3,t["ɵnov"](n,278).transform("estimates.create.placeholders.placeholder12")),""),!0,!0,!0,e.taxes),l(n,280,0,"taxes"),l(n,289,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,289,0,t["ɵnov"](n,290).transform("common.add")),""),"left"),l(n,293,0,e.itemsArray),l(n,309,0,t["ɵunv"](n,309,0,t["ɵnov"](n,310).transform(e.itemTaxes))),l(n,324,0,"discount"),l(n,344,0,"adjustment");var s=l(n,366,0,"/estimates");l(n,365,0,s)}),(function(l,n){var e=n.component;l(n,0,0,t["ɵnov"](n,4).ngClassUntouched,t["ɵnov"](n,4).ngClassTouched,t["ɵnov"](n,4).ngClassPristine,t["ɵnov"](n,4).ngClassDirty,t["ɵnov"](n,4).ngClassValid,t["ɵnov"](n,4).ngClassInvalid,t["ɵnov"](n,4).ngClassPending),l(n,10,0,t["ɵunv"](n,10,0,t["ɵnov"](n,11).transform("estimates.title2"))),l(n,17,0,t["ɵunv"](n,17,0,t["ɵnov"](n,18).transform("estimates.headings.head1"))),l(n,26,0,t["ɵunv"](n,26,0,t["ɵnov"](n,27).transform("estimates.create.fields.customer"))),l(n,30,1,[!t["ɵnov"](n,31).multiple,t["ɵnov"](n,31).typeahead,t["ɵnov"](n,31).multiple,t["ɵnov"](n,31).addTag,t["ɵnov"](n,31).searchable,t["ɵnov"](n,31).isOpen,t["ɵnov"](n,31).disabled,t["ɵnov"](n,31).filtered,t["ɵnov"](n,48).ngClassUntouched,t["ɵnov"](n,48).ngClassTouched,t["ɵnov"](n,48).ngClassPristine,t["ɵnov"](n,48).ngClassDirty,t["ɵnov"](n,48).ngClassValid,t["ɵnov"](n,48).ngClassInvalid,t["ɵnov"](n,48).ngClassPending]),l(n,55,0,t["ɵunv"](n,55,0,t["ɵnov"](n,56).transform("estimates.headings.head2"))),l(n,64,0,t["ɵunv"](n,64,0,t["ɵnov"](n,65).transform("estimates.create.fields.estimate_date"))),l(n,69,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,69,0,t["ɵnov"](n,78).transform("estimates.create.placeholders.placeholder2")),""),t["ɵnov"](n,77).ngClassUntouched,t["ɵnov"](n,77).ngClassTouched,t["ɵnov"](n,77).ngClassPristine,t["ɵnov"](n,77).ngClassDirty,t["ɵnov"](n,77).ngClassValid,t["ɵnov"](n,77).ngClassInvalid,t["ɵnov"](n,77).ngClassPending),l(n,89,0,t["ɵunv"](n,89,0,t["ɵnov"](n,90).transform("estimates.create.fields.valid_till"))),l(n,94,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,94,0,t["ɵnov"](n,103).transform("estimates.create.placeholders.placeholder3")),""),t["ɵnov"](n,102).ngClassUntouched,t["ɵnov"](n,102).ngClassTouched,t["ɵnov"](n,102).ngClassPristine,t["ɵnov"](n,102).ngClassDirty,t["ɵnov"](n,102).ngClassValid,t["ɵnov"](n,102).ngClassInvalid,t["ɵnov"](n,102).ngClassPending),l(n,117,0,t["ɵunv"](n,117,0,t["ɵnov"](n,118).transform("estimates.headings.head3"))),l(n,123,0,t["ɵunv"](n,123,0,t["ɵnov"](n,124).transform("estimates.create.fields.reference"))),l(n,125,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,125,0,t["ɵnov"](n,131).transform("estimates.create.placeholders.placeholder4")),""),t["ɵnov"](n,130).ngClassUntouched,t["ɵnov"](n,130).ngClassTouched,t["ɵnov"](n,130).ngClassPristine,t["ɵnov"](n,130).ngClassDirty,t["ɵnov"](n,130).ngClassValid,t["ɵnov"](n,130).ngClassInvalid,t["ɵnov"](n,130).ngClassPending),l(n,135,0,t["ɵunv"](n,135,0,t["ɵnov"](n,136).transform("estimates.create.fields.discount_type"))),l(n,137,1,[!t["ɵnov"](n,138).multiple,t["ɵnov"](n,138).typeahead,t["ɵnov"](n,138).multiple,t["ɵnov"](n,138).addTag,t["ɵnov"](n,138).searchable,t["ɵnov"](n,138).isOpen,t["ɵnov"](n,138).disabled,t["ɵnov"](n,138).filtered,t["ɵnov"](n,156).ngClassUntouched,t["ɵnov"](n,156).ngClassTouched,t["ɵnov"](n,156).ngClassPristine,t["ɵnov"](n,156).ngClassDirty,t["ɵnov"](n,156).ngClassValid,t["ɵnov"](n,156).ngClassInvalid,t["ɵnov"](n,156).ngClassPending]),l(n,161,0,t["ɵunv"](n,161,0,t["ɵnov"](n,162).transform("estimates.headings.head4"))),l(n,164,1,[!t["ɵnov"](n,165).multiple,t["ɵnov"](n,165).typeahead,t["ɵnov"](n,165).multiple,t["ɵnov"](n,165).addTag,t["ɵnov"](n,165).searchable,t["ɵnov"](n,165).isOpen,t["ɵnov"](n,165).disabled,t["ɵnov"](n,165).filtered,t["ɵnov"](n,182).ngClassUntouched,t["ɵnov"](n,182).ngClassTouched,t["ɵnov"](n,182).ngClassPristine,t["ɵnov"](n,182).ngClassDirty,t["ɵnov"](n,182).ngClassValid,t["ɵnov"](n,182).ngClassInvalid,t["ɵnov"](n,182).ngClassPending]),l(n,191,0,t["ɵunv"](n,191,0,t["ɵnov"](n,192).transform("estimates.create.fields.item_name"))),l(n,194,0,t["ɵunv"](n,194,0,t["ɵnov"](n,195).transform("estimates.create.fields.item_description"))),l(n,197,0,t["ɵunv"](n,197,0,t["ɵnov"](n,198).transform("estimates.create.fields.quantity"))),l(n,200,0,t["ɵunv"](n,200,0,t["ɵnov"](n,201).transform("estimates.create.fields.unit_price"))),l(n,203,0,t["ɵunv"](n,203,0,t["ɵnov"](n,204).transform("estimates.create.fields.item_tax"))),l(n,206,0,t["ɵunv"](n,206,0,t["ɵnov"](n,207).transform("estimates.create.fields.total_item_amount")),e.loginUser.currency.symbol),l(n,209,0,t["ɵunv"](n,209,0,t["ɵnov"](n,210).transform("common.actions"))),l(n,212,0,t["ɵnov"](n,215).ngClassUntouched,t["ɵnov"](n,215).ngClassTouched,t["ɵnov"](n,215).ngClassPristine,t["ɵnov"](n,215).ngClassDirty,t["ɵnov"](n,215).ngClassValid,t["ɵnov"](n,215).ngClassInvalid,t["ɵnov"](n,215).ngClassPending),l(n,218,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,218,0,t["ɵnov"](n,224).transform("estimates.create.placeholders.placeholder8")),""),t["ɵnov"](n,223).ngClassUntouched,t["ɵnov"](n,223).ngClassTouched,t["ɵnov"](n,223).ngClassPristine,t["ɵnov"](n,223).ngClassDirty,t["ɵnov"](n,223).ngClassValid,t["ɵnov"](n,223).ngClassInvalid,t["ɵnov"](n,223).ngClassPending),l(n,227,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,227,0,t["ɵnov"](n,233).transform("estimates.create.placeholders.placeholder9")),""),t["ɵnov"](n,232).ngClassUntouched,t["ɵnov"](n,232).ngClassTouched,t["ɵnov"](n,232).ngClassPristine,t["ɵnov"](n,232).ngClassDirty,t["ɵnov"](n,232).ngClassValid,t["ɵnov"](n,232).ngClassInvalid,t["ɵnov"](n,232).ngClassPending),l(n,237,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,237,0,t["ɵnov"](n,244).transform("estimates.create.placeholders.placeholder10")),""),t["ɵnov"](n,243).ngClassUntouched,t["ɵnov"](n,243).ngClassTouched,t["ɵnov"](n,243).ngClassPristine,t["ɵnov"](n,243).ngClassDirty,t["ɵnov"](n,243).ngClassValid,t["ɵnov"](n,243).ngClassInvalid,t["ɵnov"](n,243).ngClassPending),l(n,245,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,245,0,t["ɵnov"](n,251).transform("estimates.create.fields.unit")),""),t["ɵnov"](n,250).ngClassUntouched,t["ɵnov"](n,250).ngClassTouched,t["ɵnov"](n,250).ngClassPristine,t["ɵnov"](n,250).ngClassDirty,t["ɵnov"](n,250).ngClassValid,t["ɵnov"](n,250).ngClassInvalid,t["ɵnov"](n,250).ngClassPending),l(n,254,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,254,0,t["ɵnov"](n,261).transform("estimates.create.placeholders.placeholder11")),""),t["ɵnov"](n,260).ngClassUntouched,t["ɵnov"](n,260).ngClassTouched,t["ɵnov"](n,260).ngClassPristine,t["ɵnov"](n,260).ngClassDirty,t["ɵnov"](n,260).ngClassValid,t["ɵnov"](n,260).ngClassInvalid,t["ɵnov"](n,260).ngClassPending),l(n,264,1,[!t["ɵnov"](n,265).multiple,t["ɵnov"](n,265).typeahead,t["ɵnov"](n,265).multiple,t["ɵnov"](n,265).addTag,t["ɵnov"](n,265).searchable,t["ɵnov"](n,265).isOpen,t["ɵnov"](n,265).disabled,t["ɵnov"](n,265).filtered,t["ɵnov"](n,282).ngClassUntouched,t["ɵnov"](n,282).ngClassTouched,t["ɵnov"](n,282).ngClassPristine,t["ɵnov"](n,282).ngClassDirty,t["ɵnov"](n,282).ngClassValid,t["ɵnov"](n,282).ngClassInvalid,t["ɵnov"](n,282).ngClassPending]),l(n,288,0,t["ɵnov"](n,289).ariaDescribedby),l(n,302,0,t["ɵunv"](n,302,0,t["ɵnov"](n,303).transform("estimates.create.fields.sub_total")));var u=e.loginUser.currency.symbol,i=t["ɵunv"](n,305,1,l(n,306,0,t["ɵnov"](n.parent,0),e.estimates.sub_total,"1.2-2"));l(n,305,0,u,i),l(n,317,0,t["ɵunv"](n,317,0,t["ɵnov"](n,318).transform("estimates.create.fields.discount"))),l(n,320,0,t["ɵnov"](n,326).ngClassUntouched,t["ɵnov"](n,326).ngClassTouched,t["ɵnov"](n,326).ngClassPristine,t["ɵnov"](n,326).ngClassDirty,t["ɵnov"](n,326).ngClassValid,t["ɵnov"](n,326).ngClassInvalid,t["ɵnov"](n,326).ngClassPending);var a=e.loginUser.currency.symbol,s=t["ɵunv"](n,328,1,l(n,329,0,t["ɵnov"](n.parent,0),e.total_discount,"1.2-2"));l(n,328,0,a,s),l(n,337,0,t["ɵunv"](n,337,0,t["ɵnov"](n,338).transform("estimates.create.fields.adjustment"))),l(n,340,0,t["ɵnov"](n,346).ngClassUntouched,t["ɵnov"](n,346).ngClassTouched,t["ɵnov"](n,346).ngClassPristine,t["ɵnov"](n,346).ngClassDirty,t["ɵnov"](n,346).ngClassValid,t["ɵnov"](n,346).ngClassInvalid,t["ɵnov"](n,346).ngClassPending),l(n,348,0,e.loginUser.currency.symbol,e.estimates.adjustment),l(n,357,0,t["ɵunv"](n,357,0,t["ɵnov"](n,358).transform("estimates.create.fields.total_amount")));var o=e.loginUser.currency.symbol,d=t["ɵunv"](n,360,1,l(n,361,0,t["ɵnov"](n.parent,0),e.estimates.total,"1.2-2"));l(n,360,0,o,d),l(n,364,0,t["ɵnov"](n,365).target,t["ɵnov"](n,365).href),l(n,367,0,t["ɵunv"](n,367,0,t["ɵnov"](n,368).transform("common.cancel"))),l(n,370,0,t["ɵunv"](n,370,0,t["ɵnov"](n,371).transform("common.create")))}))}function xl(l){return t["ɵvid"](0,[t["ɵpid"](0,d.DecimalPipe,[t.LOCALE_ID]),(l()(),t["ɵeld"](1,0,null,null,2,"section",[["id","basic-form-layouts"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,yl)),t["ɵdid"](3,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.isFormLoaded)}),null)}function Rl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"app-estimate-create",[],null,null,null,xl,al)),t["ɵprd"](512,null,d.DatePipe,d.DatePipe,[t.LOCALE_ID]),t["ɵdid"](2,114688,null,0,il,[p.j,d.DatePipe,o.Router,J.f,j.j,R,el.a,nl.a,tl.a,ll.a,C.a],null,null)],(function(l,n){l(n,2,0)}),null)}var _l=t["ɵccf"]("app-estimate-create",il,Rl,{},{},[]),Il=function(){function l(l,n,e,t,u,i,a,s,o,d,r){var c=this;this.translate=l,this.datepipe=n,this.router=e,this.route=t,this.formBuilder=u,this.toastr=i,this.estimateService=a,this.clientService=s,this.itemService=o,this.taxService=d,this.authenticationService=r,this.clients=[],this.items=[],this.itemsArray=[],this.taxes=[],this.itemTaxes=[],this.taxesNameValues=[],this.total_discount=0,this.estimates={sub_total:0,total_taxes:0,discount:0,adjustment:0,total:0},this.isFormSubmitted=!1,this.isFormLoaded=!1,this.datepickerConfig=ul.b,this.authenticationService.loginUser.subscribe((function(l){return c.loginUser=l})),this.datepickerConfig.dateInputFormat=this.loginUser.settings.date_format,this.route.paramMap.subscribe((function(l){c.getById(l.get("id"))}))}return l.prototype.ngOnInit=function(){},l.prototype.loadForm=function(){this.editEstimateForm=this.formBuilder.group({id:[this.estimate.id],estimate_number:[this.estimate.estimate_number],client_id:[this.estimate.client_id,J.y.required],estimate_date:[new Date(this.estimate.estimate_date),J.y.required],valid_till:[new Date(this.estimate.valid_till),J.y.required],reference:[this.estimate.reference],status:[this.estimate.status,J.y.required],discount_type:[this.estimate.discount_type],discount:[this.estimate.discount],adjustment:[this.estimate.adjustment],selectedItem:[null],item:this.formBuilder.group({item_name:[null],item_description:[null],quantity:[null],unit_price:[null],item_unit:[null],taxes:[null],amount:[0]}),items:this.estimate.items}),this.setSelectedItems(this.estimate.items),this.isFormLoaded=!0},Object.defineProperty(l.prototype,"estimateControl",{get:function(){return this.editEstimateForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"itemControl",{get:function(){return this.editEstimateForm.get("item")},enumerable:!0,configurable:!0}),l.prototype.getById=function(l){var n=this;this.estimateService.getById(l).subscribe((function(l){n.estimate=l,n.getClients()}))},l.prototype.getClients=function(){var l=this;this.clientService.getAll().subscribe((function(n){l.clients=n,l.getItems()}))},l.prototype.getItems=function(){var l=this;this.itemService.getAll().subscribe((function(n){l.items=n,l.getTaxes()}))},l.prototype.getTaxes=function(){var l=this;this.taxService.getAll().subscribe((function(n){for(var e in l.taxes=n,l.taxes)null==l.taxesNameValues[l.taxes[e].id]&&(l.taxesNameValues[l.taxes[e].id]=[]),l.taxesNameValues[l.taxes[e].id]=l.taxes[e];l.loadForm()}))},l.prototype.addDays=function(l,n){return new Date(l.setDate(l.getDate()+n))},l.prototype.setSelectedItems=function(l){for(var n in l){var e=[];for(var t in l[n].taxes)e.push(l[n].taxes[t].id);l[n].taxes=e,this.itemsArray.push(l[n])}this.estimates.discount=this.estimate.discount,this.estimates.adjustment=this.estimate.adjustment,this.getItemTaxes()},l.prototype.changeItem=function(l){var n=[];for(var e in l.taxes)n.push(l.taxes[e].id);this.itemControl.patchValue({item_name:l.name}),this.itemControl.patchValue({item_description:l.description}),this.itemControl.patchValue({quantity:1}),this.itemControl.patchValue({unit_price:l.price}),this.itemControl.patchValue({item_unit:l.unit}),this.itemControl.patchValue({taxes:n})},l.prototype.resetChildForm=function(){this.itemControl.patchValue({item_name:null}),this.itemControl.patchValue({item_description:null}),this.itemControl.patchValue({quantity:null}),this.itemControl.patchValue({unit_price:null}),this.itemControl.patchValue({item_unit:null}),this.itemControl.patchValue({taxes:[]})},l.prototype.changeDiscountType=function(l){"not_discount"==l.id&&(this.estimates.discount=0),this.getItemTaxes()},l.prototype.changeDiscountAdjustment=function(l,n){if("discount"==n){if("not_discount"==this.editEstimateForm.value.discount_type)return void this.toastr.error(this.translate.instant("estimates.create.error_messages.message7"),this.translate.instant("estimates.title"));this.estimates.discount=parseFloat(l.target.value)}else this.estimates.adjustment=parseFloat(l.target.value);isNaN(this.estimates.discount)&&(this.estimates.discount=0),isNaN(this.estimates.adjustment)&&(this.estimates.adjustment=0),this.getItemTaxes()},l.prototype.addItem=function(l){l.preventDefault();var n=this.editEstimateForm.value.item;if(null==n.item_name||null==n.quantity||null==n.unit_price)return this.toastr.error(this.translate.instant("estimates.create.error_messages.message6"),this.translate.instant("estimates.title")),!1;this.itemsArray.push(n),this.resetChildForm(),this.estimates.discount=this.editEstimateForm.value.discount,this.estimates.adjustment=this.editEstimateForm.value.adjustment,this.getItemTaxes()},l.prototype.saveItemDetail=function(l,n,e){this.itemsArray[l][n]=e,this.getItemTaxes()},l.prototype.deleteItem=function(l){this.itemsArray.splice(l,1),this.getItemTaxes()},l.prototype.getItemTaxes=function(){this.itemTaxes=[],this.estimates.sub_total=0,this.estimates.total_taxes=0,this.estimates.total=0,this.total_discount=0;var l=0;for(var n in this.itemsArray){for(var e in l=this.itemsArray[n].quantity*this.itemsArray[n].unit_price,this.itemsArray[n].taxes){var t;null==this.itemTaxes[this.itemsArray[n].taxes[e]]&&(this.itemTaxes[this.itemsArray[n].taxes[e]]=0),this.estimates.total_taxes+=t=l*this.taxesNameValues[this.itemsArray[n].taxes[e]].tax_rate/100,this.itemTaxes[this.itemsArray[n].taxes[e]]=this.itemTaxes[this.itemsArray[n].taxes[e]]+t}this.estimates.sub_total+=l}this.total_discount="percent"==this.editEstimateForm.value.discount_type?(this.estimates.sub_total+this.estimates.total_taxes)*this.estimates.discount/100:this.estimates.discount,this.estimates.total=this.estimates.sub_total+this.estimates.total_taxes-this.total_discount+this.estimates.adjustment},l.prototype.onSubmit=function(){var l=this;if(this.isFormSubmitted=!0,!this.editEstimateForm.invalid)if(0!=this.itemsArray.length){var n={id:this.editEstimateForm.value.id,estimate_date:this.datepipe.transform(this.editEstimateForm.value.estimate_date,"yyyy-MM-dd"),valid_till:this.editEstimateForm.value.valid_till,client_id:this.editEstimateForm.value.client_id,status:this.editEstimateForm.value.status,reference:this.editEstimateForm.value.reference,items:this.itemsArray,adjustment:this.estimates.adjustment,discount_type:this.editEstimateForm.value.discount_type,discount:this.estimates.discount};this.estimateService.update(n).subscribe((function(n){l.toastr.success(l.translate.instant("estimates.messages.update"),l.translate.instant("estimates.title")),l.router.navigate(["estimates"])}))}else this.toastr.error(this.translate.instant("estimates.create.error_messages.message5"),this.translate.instant("estimates.title"))},l}(),Tl=t["ɵcrt"]({encapsulation:0,styles:[[".ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-width:500px}.inp[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #e8eef3;padding:5px 10px;outline:0;width:100%}[placeholder][_ngcontent-%COMP%]:focus::-webkit-input-placeholder{transition:text-indent .4s .4s ease;text-indent:-100%;opacity:1}"]],data:{}});function Dl(l){return t["ɵvid"](0,[(l()(),t["ɵted"](0,null,[" "," "," "]))],null,(function(l,n){l(n,0,0,n.context.item.firstname,n.context.item.lastname)}))}function Vl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message1")))}))}function wl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Vl)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.client_id.errors.required)}),null)}function jl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message2")))}))}function ql(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,jl)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.estimate_date.errors.required)}),null)}function Sl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.create.error_messages.message3")))}))}function Nl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Sl)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.estimateControl.valid_till.errors.required)}),null)}function Fl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,6,"div",[["class","card mt-1 mb-1"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,5,"div",[["class","card-body p-2"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"h5",[["class","card-title"]],null,null,null,null,null)),t["ɵdid"](3,4734976,null,0,M.m,[t.ElementRef,t.Renderer2],{term:[0,"term"]},null),(l()(),t["ɵted"](4,null,["(","",") ",""])),(l()(),t["ɵeld"](5,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t["ɵted"](6,null,["",""]))],(function(l,n){l(n,3,0,n.context.searchTerm)}),(function(l,n){l(n,4,0,n.component.loginUser.currency.symbol,n.context.item.price,n.context.item.name),l(n,6,0,n.context.item.description)}))}function El(l){return t["ɵvid"](0,[(l()(),t["ɵted"](0,null,[" ","(","%) "]))],null,(function(l,n){l(n,0,0,n.context.item.tax_name,n.context.item.tax_rate)}))}function Pl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,5,"ul",[["aria-labelledby","button-basic-1"],["class","dropdown-menu animated fadeIn"],["id","dropdown-basic-1"],["role","menu"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,3,"a",[["class","dropdown-item btn btn-delete btn-raised"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteItem(l.parent.context.index)&&t),t}),null,null)),(l()(),t["ɵeld"](3,16777216,null,null,2,"i",[["class","fa fa-trash-o"]],[[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](4,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){l(n,4,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,4,0,t["ɵnov"](n,5).transform("common.delete")),""))}),(function(l,n){l(n,3,0,t["ɵnov"](n,4).ariaDescribedby)}))}function kl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,31,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"item_name",e)&&t),t}),H.b,H.a)),t["ɵdid"](3,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](5,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,2,"inline-edit-textarea",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"item_description",e)&&t),t}),G.b,G.a)),t["ɵdid"](7,114688,null,0,z.a,[t.Renderer],{name:[0,"name"],elementFor:[1,"elementFor"],fieldValue:[2,"fieldValue"],isRequired:[3,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](9,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](10,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"quantity",e)&&t),t}),H.b,H.a)),t["ɵdid"](11,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](13,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](14,0,null,null,2,"inline-edit-input",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"unit_price",e)&&t),t}),H.b,H.a)),t["ɵdid"](15,114688,null,0,Z.a,[t.Renderer],{type:[0,"type"],name:[1,"name"],elementFor:[2,"elementFor"],fieldValue:[3,"fieldValue"],isRequired:[4,"isRequired"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](17,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](18,0,null,null,2,"inline-edit-select-items",[],null,[[null,"updateValue"]],(function(l,n,e){var t=!0;return"updateValue"===n&&(t=!1!==l.component.saveItemDetail(l.context.index,"taxes",e)&&t),t}),W.b,W.a)),t["ɵdid"](19,114688,null,0,Y.a,[t.Renderer],{name:[0,"name"],elementFor:[1,"elementFor"],txtField:[2,"txtField"],selectedValue:[3,"selectedValue"],isRequired:[4,"isRequired"],options:[5,"options"]},{updateValue:"updateValue"}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](21,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](22,null,["",""])),(l()(),t["ɵeld"](23,0,null,null,8,"td",[["class","actions-dropdown text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](24,16777216,null,null,7,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["ɵprd"](512,null,v.f,v.f,[]),t["ɵdid"](26,212992,null,0,v.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a,v.f,v.a,f.b],null,null),(l()(),t["ɵeld"](27,0,null,null,2,"button",[["aria-controls","dropdown-basic-1"],["class","dropdown-toggle btn-action"],["dropdownToggle",""],["id","button-basic-1"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,28).onClick()&&u),u}),null,null)),t["ɵdid"](28,147456,null,0,v.g,[t.ChangeDetectorRef,v.c,t.ElementRef,t.Renderer2,v.f],null,null),(l()(),t["ɵeld"](29,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Pl)),t["ɵdid"](31,16384,null,0,v.d,[v.f,t.ViewContainerRef,t.TemplateRef],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","item_name",t["ɵunv"](n,3,2,t["ɵnov"](n,4).transform("estimates.inline_edit.item_name")),n.context.$implicit.item_name,"true"),l(n,7,0,"item_description",t["ɵunv"](n,7,1,t["ɵnov"](n,8).transform("estimates.inline_edit.item_description")),n.context.$implicit.item_description,"false"),l(n,11,0,"number","quantity",t["ɵunv"](n,11,2,t["ɵnov"](n,12).transform("estimates.inline_edit.quantity")),n.context.$implicit.quantity,"true"),l(n,15,0,"number","unit_price",t["ɵunv"](n,15,2,t["ɵnov"](n,16).transform("estimates.inline_edit.unit_price")),n.context.$implicit.unit_price,"true"),l(n,19,0,"taxes",t["ɵunv"](n,19,1,t["ɵnov"](n,20).transform("estimates.inline_edit.item_tax")),"Taxes",n.context.$implicit.taxes,"true",e.taxes),l(n,26,0)}),(function(l,n){l(n,22,0,n.context.$implicit.quantity*n.context.$implicit.unit_price),l(n,24,0,t["ɵnov"](n,26).dropup,t["ɵnov"](n,26).isOpen,t["ɵnov"](n,26).isOpen&&t["ɵnov"](n,26).isBs4),l(n,27,0,!0,t["ɵnov"](n,28).isDisabled,t["ɵnov"](n,28).isOpen)}))}function Ol(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,11,null,null,null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](3,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](4,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](5,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](7,null,["","(","%)"])),(l()(),t["ɵeld"](8,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](9,null,["","",""])),t["ɵppd"](10,2),(l()(),t["ɵeld"](11,0,null,null,0,"td",[],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,7,0,e.taxesNameValues[n.parent.context.$implicit.key].tax_name,e.taxesNameValues[n.parent.context.$implicit.key].tax_rate);var u=e.loginUser.currency.symbol,i=t["ɵunv"](n,9,1,l(n,10,0,t["ɵnov"](n.parent.parent.parent,0),n.parent.context.$implicit.value,"1.2-2"));l(n,9,0,u,i)}))}function Al(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Ol)),t["ɵdid"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function Ul(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,383,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,i=l.component;return"submit"===n&&(u=!1!==t["ɵnov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["ɵnov"](l,2).onReset()&&u),"ngSubmit"===n&&(u=!1!==i.onSubmit()&&u),u}),null,null)),t["ɵdid"](1,16384,null,0,J.C,[],null,null),t["ɵdid"](2,540672,null,0,J.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["ɵprd"](2048,null,J.c,null,[J.h]),t["ɵdid"](4,16384,null,0,J.q,[[4,J.c]],null,null),(l()(),t["ɵeld"](5,0,null,null,378,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,101,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](7,0,null,null,100,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,2,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["ɵted"](10,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](12,0,null,null,95,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](13,0,null,null,94,"div",[["class","px-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](14,0,null,null,93,"div",[["class","form-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](15,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](16,0,null,null,0,"i",[["aria-hidden","true"],["class","ft-user"]],null,null,null,null,null)),(l()(),t["ɵted"](17,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](19,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](20,0,null,null,32,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](21,0,null,null,31,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](23,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](24,{"is-invalid":0}),(l()(),t["ɵeld"](25,0,null,null,4,"label",[["for","client_id"]],null,null,null,null,null)),(l()(),t["ɵted"](26,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](28,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](30,0,null,null,20,"ng-select",[["bindLabel","firstname"],["bindValue","id"],["class","ng-select"],["formControlName","client_id"],["labelForId","client_id"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var u=!0;return"keydown"===n&&(u=!1!==t["ɵnov"](l,31).handleKeyDown(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](31,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],labelForId:[5,"labelForId"],searchable:[6,"searchable"],items:[7,"items"]},null),t["ɵqud"](335544320,1,{optionTemplate:0}),t["ɵqud"](335544320,2,{optgroupTemplate:0}),t["ɵqud"](335544320,3,{labelTemplate:0}),t["ɵqud"](335544320,4,{multiLabelTemplate:0}),t["ɵqud"](335544320,5,{headerTemplate:0}),t["ɵqud"](335544320,6,{footerTemplate:0}),t["ɵqud"](335544320,7,{notFoundTemplate:0}),t["ɵqud"](335544320,8,{typeToSearchTemplate:0}),t["ɵqud"](335544320,9,{loadingTextTemplate:0}),t["ɵqud"](335544320,10,{tagTemplate:0}),t["ɵqud"](335544320,11,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,12,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](46,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](48,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[1,2]],null,1,null,Dl)),t["ɵdid"](50,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵand"](16777216,null,null,1,null,wl)),t["ɵdid"](52,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](53,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](54,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵted"](55,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](57,0,null,null,50,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](58,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](59,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](61,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](62,{"is-invalid":0}),(l()(),t["ɵeld"](63,0,null,null,4,"label",[["for","estimate_date"]],null,null,null,null,null)),(l()(),t["ɵted"](64,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](66,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](68,0,null,null,14,"div",[["class","position-relative has-icon-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](69,16777216,null,null,9,"input",[["bsDatepicker",""],["class","form-control"],["formControlName","estimate_date"],["id","estimate_date"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,70)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,70).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,70)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,70)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,72).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t["ɵnov"](l,72).hide()&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,72).onBlur()&&u),u}),null,null)),t["ɵdid"](70,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](71,737280,[["dp1",4]],0,X.c,[X.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a],{bsConfig:[0,"bsConfig"]},null),t["ɵdid"](72,16384,null,0,X.f,[X.c,X.n,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],null,null),t["ɵprd"](1024,null,J.m,(function(l){return[l]}),[X.f]),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,X.f]),t["ɵdid"](75,671744,null,0,J.g,[[3,J.c],[6,J.m],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](77,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](79,0,null,null,1,"div",[["class","form-control-position"]],null,null,null,null,null)),(l()(),t["ɵeld"](80,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,ql)),t["ɵdid"](82,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](83,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](84,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),t["ɵprd"](512,null,d["ɵNgClassImpl"],d["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](86,278528,null,0,d.NgClass,[d["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["ɵpod"](87,{"is-invalid":0}),(l()(),t["ɵeld"](88,0,null,null,4,"label",[["for","end-date"]],null,null,null,null,null)),(l()(),t["ɵted"](89,null,[""," "])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](91,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["*"])),(l()(),t["ɵeld"](93,0,null,null,14,"div",[["class","position-relative has-icon-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](94,16777216,null,null,9,"input",[["bsDatepicker",""],["class","form-control"],["formControlName","valid_till"],["id","valid_till"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,95)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,95).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,95)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,95)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,97).onChange(e)&&u),"keyup.esc"===n&&(u=!1!==t["ɵnov"](l,97).hide()&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,97).onBlur()&&u),u}),null,null)),t["ɵdid"](95,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](96,737280,[["dp2",4]],0,X.c,[X.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,c.a],{bsConfig:[0,"bsConfig"]},null),t["ɵdid"](97,16384,null,0,X.f,[X.c,X.n,t.Renderer2,t.ElementRef,t.ChangeDetectorRef],null,null),t["ɵprd"](1024,null,J.m,(function(l){return[l]}),[X.f]),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,X.f]),t["ɵdid"](100,671744,null,0,J.g,[[3,J.c],[6,J.m],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](102,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](104,0,null,null,1,"div",[["class","form-control-position"]],null,null,null,null,null)),(l()(),t["ɵeld"](105,0,null,null,0,"i",[["class","ft-calendar"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Nl)),t["ɵdid"](107,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](108,0,null,null,59,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](109,0,null,null,58,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](110,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,[" "])),(l()(),t["ɵeld"](112,0,null,null,55,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](113,0,null,null,54,"div",[["class","px-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](114,0,null,null,53,"div",[["class","form-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](115,0,null,null,3,"h4",[["class","form-section"]],null,null,null,null,null)),(l()(),t["ɵeld"](116,0,null,null,0,"i",[["class","ft-box"]],null,null,null,null,null)),(l()(),t["ɵted"](117,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](119,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](120,0,null,null,10,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](121,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](122,0,null,null,2,"label",[["for","estimate_number"]],null,null,null,null,null)),(l()(),t["ɵted"](123,null,[""," #"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](125,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control"],["formControlName","estimate_number"],["id","estimate_number"],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,126)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,126).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,126)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,126)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](126,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](128,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](130,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](131,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](132,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](133,0,null,null,2,"label",[["for","reference"]],null,null,null,null,null)),(l()(),t["ɵted"](134,null,[""," #"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](136,0,null,null,6,"input",[["class","form-control"],["formControlName","reference"],["id","reference"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,137)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,137).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,137)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,137)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](137,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](139,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](141,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](143,0,null,null,24,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t["ɵeld"](144,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](145,0,null,null,2,"label",[["for","type"]],null,null,null,null,null)),(l()(),t["ɵted"](146,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](148,0,null,null,19,"ng-select",[["bindLabel","label"],["bindValue","id"],["class","ng-select"],["formControlName","discount_type"],["labelForId","discount_type"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"keydown"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t["ɵnov"](l,149).handleKeyDown(e)&&u),"change"===n&&(u=!1!==i.changeDiscountType(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](149,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],labelForId:[5,"labelForId"],searchable:[6,"searchable"],items:[7,"items"]},{changeEvent:"change"}),t["ɵqud"](335544320,13,{optionTemplate:0}),t["ɵqud"](335544320,14,{optgroupTemplate:0}),t["ɵqud"](335544320,15,{labelTemplate:0}),t["ɵqud"](335544320,16,{multiLabelTemplate:0}),t["ɵqud"](335544320,17,{headerTemplate:0}),t["ɵqud"](335544320,18,{footerTemplate:0}),t["ɵqud"](335544320,19,{notFoundTemplate:0}),t["ɵqud"](335544320,20,{typeToSearchTemplate:0}),t["ɵqud"](335544320,21,{loadingTextTemplate:0}),t["ɵqud"](335544320,22,{tagTemplate:0}),t["ɵqud"](335544320,23,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,24,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](165,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](167,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](168,0,null,null,215,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](169,0,null,null,214,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](170,0,null,null,25,"div",[["class","card-form"]],null,null,null,null,null)),(l()(),t["ɵeld"](171,0,null,null,2,"h4",[["class","card-title"]],null,null,null,null,null)),(l()(),t["ɵted"](172,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](174,0,null,null,21,"div",[["class","card-button estimate-form"]],null,null,null,null,null)),(l()(),t["ɵeld"](175,0,null,null,20,"ng-select",[["bindLabel","name"],["bindValue","id"],["class","ng-select"],["formControlName","selectedItem"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"keydown"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t["ɵnov"](l,176).handleKeyDown(e)&&u),"change"===n&&(u=!1!==i.changeItem(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](176,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],items:[4,"items"]},{changeEvent:"change"}),t["ɵqud"](335544320,25,{optionTemplate:0}),t["ɵqud"](335544320,26,{optgroupTemplate:0}),t["ɵqud"](335544320,27,{labelTemplate:0}),t["ɵqud"](335544320,28,{multiLabelTemplate:0}),t["ɵqud"](335544320,29,{headerTemplate:0}),t["ɵqud"](335544320,30,{footerTemplate:0}),t["ɵqud"](335544320,31,{notFoundTemplate:0}),t["ɵqud"](335544320,32,{typeToSearchTemplate:0}),t["ɵqud"](335544320,33,{loadingTextTemplate:0}),t["ɵqud"](335544320,34,{tagTemplate:0}),t["ɵqud"](335544320,35,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,36,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](191,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](193,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[25,2]],null,1,null,Fl)),t["ɵdid"](195,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵeld"](196,0,null,null,187,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t["ɵeld"](197,0,null,null,177,"div",[["class","table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl"]],null,null,null,null,null)),(l()(),t["ɵeld"](198,0,null,null,176,"table",[["class","table table-bordered table-hover b4-datatable"],["id","estimate_table"],["width","100%"]],null,null,null,null,null)),(l()(),t["ɵeld"](199,0,null,null,22,"thead",[],null,null,null,null,null)),(l()(),t["ɵeld"](200,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](201,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](202,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](204,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](205,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](207,0,null,null,2,"th",[["class","width-100"]],null,null,null,null,null)),(l()(),t["ɵted"](208,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](210,0,null,null,2,"th",[["class","width-150"]],null,null,null,null,null)),(l()(),t["ɵted"](211,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](213,0,null,null,2,"th",[["class","width-250"]],null,null,null,null,null)),(l()(),t["ɵted"](214,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](216,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](217,null,[""," (",")"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](219,0,null,null,2,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](220,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](222,0,null,null,82,"tbody",[],null,null,null,null,null)),(l()(),t["ɵeld"](223,0,null,null,79,"tr",[["formArrayName","item"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["ɵdid"](224,212992,null,0,J.e,[[3,J.c],[8,null],[8,null]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.c,null,[J.e]),t["ɵdid"](226,16384,null,0,J.q,[[4,J.c]],null,null),(l()(),t["ɵeld"](227,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](228,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](229,0,null,null,6,"input",[["class","form-control"],["formControlName","item_name"],["id","item_name"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,230)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,230).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,230)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,230)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](230,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](232,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](234,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](236,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](237,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](238,0,null,null,7,"textarea",[["class","form-control"],["formControlName","item_description"],["id","item_description"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,239)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,239).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,239)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,239)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](239,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](241,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](243,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵted"](-1,null,["\t\t\t\t\t\t\t\t\t\t\t\t"])),(l()(),t["ɵeld"](246,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](247,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](248,0,null,null,7,"input",[["class","form-control"],["formControlName","quantity"],["id","quantity"],["min","1"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,249)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,249).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,249)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,249)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,250).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,250).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,250).onTouched()&&u),u}),null,null)),t["ɵdid"](249,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](250,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](252,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](254,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](256,0,null,null,6,"input",[["class","inp"],["formControlName","item_unit"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,257)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,257).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,257)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,257)._compositionEnd(e.target.value)&&u),u}),null,null)),t["ɵdid"](257,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[J.d]),t["ɵdid"](259,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](261,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](263,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](264,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](265,0,null,null,7,"input",[["class","form-control"],["formControlName","unit_price"],["id","unit_price"],["min","0"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["ɵnov"](l,266)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,266).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,266)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,266)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,267).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,267).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,267).onTouched()&&u),u}),null,null)),t["ɵdid"](266,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](267,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](269,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](271,16384,null,0,J.p,[[4,J.o]],null,null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](273,0,null,null,22,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](274,0,null,null,21,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](275,0,null,null,20,"ng-select",[["bindLabel","tax_name"],["bindValue","id"],["class","ng-select"],["formControlName","taxes"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],(function(l,n,e){var u=!0;return"keydown"===n&&(u=!1!==t["ɵnov"](l,276).handleKeyDown(e)&&u),u}),Q.b,Q.a)),t["ɵdid"](276,4964352,null,12,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],clearable:[2,"clearable"],placeholder:[3,"placeholder"],selectOnTab:[4,"selectOnTab"],multiple:[5,"multiple"],searchable:[6,"searchable"],items:[7,"items"]},null),t["ɵqud"](335544320,37,{optionTemplate:0}),t["ɵqud"](335544320,38,{optgroupTemplate:0}),t["ɵqud"](335544320,39,{labelTemplate:0}),t["ɵqud"](335544320,40,{multiLabelTemplate:0}),t["ɵqud"](335544320,41,{headerTemplate:0}),t["ɵqud"](335544320,42,{footerTemplate:0}),t["ɵqud"](335544320,43,{notFoundTemplate:0}),t["ɵqud"](335544320,44,{typeToSearchTemplate:0}),t["ɵqud"](335544320,45,{loadingTextTemplate:0}),t["ɵqud"](335544320,46,{tagTemplate:0}),t["ɵqud"](335544320,47,{loadingSpinnerTemplate:0}),t["ɵqud"](603979776,48,{ngOptions:1}),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵprd"](1024,null,J.n,(function(l){return[l]}),[M.a]),t["ɵdid"](291,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](293,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵand"](0,[[37,2]],null,1,null,El)),t["ɵdid"](295,16384,null,0,M.f,[t.TemplateRef],null,null),(l()(),t["ɵeld"](296,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,[" "])),(l()(),t["ɵeld"](298,0,null,null,4,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](299,16777216,null,null,3,"button",[["class","btn btn-secondary"],["placement","left"]],[[1,"aria-describedby",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(e)&&t),t}),null,null)),t["ɵdid"](300,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](302,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,kl)),t["ɵdid"](304,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["ɵeld"](305,0,null,null,69,"tbody",[["class","mt-4"]],null,null,null,null,null)),(l()(),t["ɵeld"](306,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](307,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](308,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](309,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](310,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](311,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](312,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](313,null,["",":"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](315,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](316,null,["","",""])),t["ɵppd"](317,2),(l()(),t["ɵeld"](318,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,Al)),t["ɵdid"](320,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵpid"](0,d.KeyValuePipe,[t.KeyValueDiffers]),(l()(),t["ɵeld"](322,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](323,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](324,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](325,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](326,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](327,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](328,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](330,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](331,0,null,null,6,"input",[["class","form-control"],["formControlName","discount"],["name","discount"],["placeholder","00.00"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,332)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,332).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,332)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,332)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,333).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,333).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,333).onTouched()&&u),"change"===n&&(u=!1!==i.changeDiscountAdjustment(e,"discount")&&u),u}),null,null)),t["ɵdid"](332,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](333,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](335,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](337,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](338,0,null,null,2,"td",[["class","danger text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](339,null,["(-) ","",""])),t["ɵppd"](340,2),(l()(),t["ɵeld"](341,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](342,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](343,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](344,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](345,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](346,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](347,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](348,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](350,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](351,0,null,null,6,"input",[["class","form-control"],["formControlName","adjustment"],["min","0"],["name","adjustment"],["placeholder","00.00"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,352)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,352).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,352)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,352)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t["ɵnov"](l,353).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t["ɵnov"](l,353).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,353).onTouched()&&u),"change"===n&&(u=!1!==i.changeDiscountAdjustment(e,"adjustment")&&u),u}),null,null)),t["ɵdid"](352,16384,null,0,J.d,[t.Renderer2,t.ElementRef,[2,J.a]],null,null),t["ɵdid"](353,16384,null,0,J.t,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,J.n,(function(l,n){return[l,n]}),[J.d,J.t]),t["ɵdid"](355,671744,null,0,J.g,[[3,J.c],[8,null],[8,null],[6,J.n],[2,J.B]],{name:[0,"name"]},null),t["ɵprd"](2048,null,J.o,null,[J.g]),t["ɵdid"](357,16384,null,0,J.p,[[4,J.o]],null,null),(l()(),t["ɵeld"](358,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](359,null,["","",""])),t["ɵppd"](360,2),(l()(),t["ɵeld"](361,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](362,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](363,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](364,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](365,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](366,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](367,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](368,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](369,null,["",":"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](371,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["ɵted"](372,null,["","",""])),t["ɵppd"](373,2),(l()(),t["ɵeld"](374,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](375,0,null,null,8,"div",[["class","col-md-12 text-right pt-3 pb-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](376,0,null,null,4,"a",[["class","btn btn-cancel mb-0"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,377).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["ɵdid"](377,671744,null,0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["ɵpad"](378,1),(l()(),t["ɵted"](379,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](381,0,null,null,2,"button",[["class","btn btn-submit mb-0"],["type","submit"]],null,null,null,null,null)),(l()(),t["ɵted"](382,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.editEstimateForm);var u=l(n,24,0,e.isFormSubmitted&&e.estimateControl.client_id.errors);l(n,23,0,"form-group",u),l(n,31,0,"firstname","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,31,3,t["ɵnov"](n,44).transform("estimates.create.placeholders.placeholder1")),""),!0,"client_id",!0,e.clients),l(n,46,0,"client_id"),l(n,52,0,e.isFormSubmitted&&e.estimateControl.client_id.errors);var i=l(n,62,0,e.isFormSubmitted&&e.estimateControl.estimate_date.errors);l(n,61,0,"form-group",i),l(n,71,0,e.datepickerConfig),l(n,75,0,"estimate_date"),l(n,82,0,e.isFormSubmitted&&e.estimateControl.estimate_date.errors);var a=l(n,87,0,e.isFormSubmitted&&e.estimateControl.valid_till.errors);l(n,86,0,"form-group",a),l(n,96,0,e.datepickerConfig),l(n,100,0,"valid_till"),l(n,107,0,e.isFormSubmitted&&e.estimateControl.valid_till.errors),l(n,128,0,"estimate_number"),l(n,139,0,"reference"),l(n,149,0,"label","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,149,3,t["ɵnov"](n,162).transform("estimates.create.placeholders.placeholder5")),""),!0,"discount_type",!0,t["ɵunv"](n,149,7,t["ɵnov"](n,163).transform("estimates.discount_type"))),l(n,165,0,"discount_type"),l(n,176,0,"name","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,176,3,t["ɵnov"](n,189).transform("estimates.create.placeholders.placeholder7")),""),e.items),l(n,191,0,"selectedItem"),l(n,224,0,"item"),l(n,232,0,"item_name"),l(n,241,0,"item_description"),l(n,252,0,"quantity"),l(n,259,0,"item_unit"),l(n,269,0,"unit_price"),l(n,276,0,"tax_name","id",!1,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,276,3,t["ɵnov"](n,289).transform("estimates.create.placeholders.placeholder12")),""),!0,!0,!0,e.taxes),l(n,291,0,"taxes"),l(n,300,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,300,0,t["ɵnov"](n,301).transform("common.add")),""),"left"),l(n,304,0,e.itemsArray),l(n,320,0,t["ɵunv"](n,320,0,t["ɵnov"](n,321).transform(e.itemTaxes))),l(n,335,0,"discount"),l(n,355,0,"adjustment");var s=l(n,378,0,"/estimates");l(n,377,0,s)}),(function(l,n){var e=n.component;l(n,0,0,t["ɵnov"](n,4).ngClassUntouched,t["ɵnov"](n,4).ngClassTouched,t["ɵnov"](n,4).ngClassPristine,t["ɵnov"](n,4).ngClassDirty,t["ɵnov"](n,4).ngClassValid,t["ɵnov"](n,4).ngClassInvalid,t["ɵnov"](n,4).ngClassPending),l(n,10,0,t["ɵunv"](n,10,0,t["ɵnov"](n,11).transform("estimates.title3"))),l(n,17,0,t["ɵunv"](n,17,0,t["ɵnov"](n,18).transform("estimates.headings.head1"))),l(n,26,0,t["ɵunv"](n,26,0,t["ɵnov"](n,27).transform("estimates.create.fields.customer"))),l(n,30,1,[!t["ɵnov"](n,31).multiple,t["ɵnov"](n,31).typeahead,t["ɵnov"](n,31).multiple,t["ɵnov"](n,31).addTag,t["ɵnov"](n,31).searchable,t["ɵnov"](n,31).isOpen,t["ɵnov"](n,31).disabled,t["ɵnov"](n,31).filtered,t["ɵnov"](n,48).ngClassUntouched,t["ɵnov"](n,48).ngClassTouched,t["ɵnov"](n,48).ngClassPristine,t["ɵnov"](n,48).ngClassDirty,t["ɵnov"](n,48).ngClassValid,t["ɵnov"](n,48).ngClassInvalid,t["ɵnov"](n,48).ngClassPending]),l(n,55,0,t["ɵunv"](n,55,0,t["ɵnov"](n,56).transform("estimates.headings.head2"))),l(n,64,0,t["ɵunv"](n,64,0,t["ɵnov"](n,65).transform("estimates.create.fields.estimate_date"))),l(n,69,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,69,0,t["ɵnov"](n,78).transform("estimates.create.placeholders.placeholder2")),""),t["ɵnov"](n,77).ngClassUntouched,t["ɵnov"](n,77).ngClassTouched,t["ɵnov"](n,77).ngClassPristine,t["ɵnov"](n,77).ngClassDirty,t["ɵnov"](n,77).ngClassValid,t["ɵnov"](n,77).ngClassInvalid,t["ɵnov"](n,77).ngClassPending),l(n,89,0,t["ɵunv"](n,89,0,t["ɵnov"](n,90).transform("estimates.create.fields.valid_till"))),l(n,94,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,94,0,t["ɵnov"](n,103).transform("estimates.create.placeholders.placeholder3")),""),t["ɵnov"](n,102).ngClassUntouched,t["ɵnov"](n,102).ngClassTouched,t["ɵnov"](n,102).ngClassPristine,t["ɵnov"](n,102).ngClassDirty,t["ɵnov"](n,102).ngClassValid,t["ɵnov"](n,102).ngClassInvalid,t["ɵnov"](n,102).ngClassPending),l(n,117,0,t["ɵunv"](n,117,0,t["ɵnov"](n,118).transform("estimates.headings.head3"))),l(n,123,0,t["ɵunv"](n,123,0,t["ɵnov"](n,124).transform("estimates.create.fields.estimate_number"))),l(n,125,0,t["ɵnov"](n,130).ngClassUntouched,t["ɵnov"](n,130).ngClassTouched,t["ɵnov"](n,130).ngClassPristine,t["ɵnov"](n,130).ngClassDirty,t["ɵnov"](n,130).ngClassValid,t["ɵnov"](n,130).ngClassInvalid,t["ɵnov"](n,130).ngClassPending),l(n,134,0,t["ɵunv"](n,134,0,t["ɵnov"](n,135).transform("estimates.create.fields.reference"))),l(n,136,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,136,0,t["ɵnov"](n,142).transform("estimates.create.placeholders.placeholder4")),""),t["ɵnov"](n,141).ngClassUntouched,t["ɵnov"](n,141).ngClassTouched,t["ɵnov"](n,141).ngClassPristine,t["ɵnov"](n,141).ngClassDirty,t["ɵnov"](n,141).ngClassValid,t["ɵnov"](n,141).ngClassInvalid,t["ɵnov"](n,141).ngClassPending),l(n,146,0,t["ɵunv"](n,146,0,t["ɵnov"](n,147).transform("estimates.create.fields.discount_type"))),l(n,148,1,[!t["ɵnov"](n,149).multiple,t["ɵnov"](n,149).typeahead,t["ɵnov"](n,149).multiple,t["ɵnov"](n,149).addTag,t["ɵnov"](n,149).searchable,t["ɵnov"](n,149).isOpen,t["ɵnov"](n,149).disabled,t["ɵnov"](n,149).filtered,t["ɵnov"](n,167).ngClassUntouched,t["ɵnov"](n,167).ngClassTouched,t["ɵnov"](n,167).ngClassPristine,t["ɵnov"](n,167).ngClassDirty,t["ɵnov"](n,167).ngClassValid,t["ɵnov"](n,167).ngClassInvalid,t["ɵnov"](n,167).ngClassPending]),l(n,172,0,t["ɵunv"](n,172,0,t["ɵnov"](n,173).transform("estimates.headings.head4"))),l(n,175,1,[!t["ɵnov"](n,176).multiple,t["ɵnov"](n,176).typeahead,t["ɵnov"](n,176).multiple,t["ɵnov"](n,176).addTag,t["ɵnov"](n,176).searchable,t["ɵnov"](n,176).isOpen,t["ɵnov"](n,176).disabled,t["ɵnov"](n,176).filtered,t["ɵnov"](n,193).ngClassUntouched,t["ɵnov"](n,193).ngClassTouched,t["ɵnov"](n,193).ngClassPristine,t["ɵnov"](n,193).ngClassDirty,t["ɵnov"](n,193).ngClassValid,t["ɵnov"](n,193).ngClassInvalid,t["ɵnov"](n,193).ngClassPending]),l(n,202,0,t["ɵunv"](n,202,0,t["ɵnov"](n,203).transform("estimates.create.fields.item_name"))),l(n,205,0,t["ɵunv"](n,205,0,t["ɵnov"](n,206).transform("estimates.create.fields.item_description"))),l(n,208,0,t["ɵunv"](n,208,0,t["ɵnov"](n,209).transform("estimates.create.fields.quantity"))),l(n,211,0,t["ɵunv"](n,211,0,t["ɵnov"](n,212).transform("estimates.create.fields.unit_price"))),l(n,214,0,t["ɵunv"](n,214,0,t["ɵnov"](n,215).transform("estimates.create.fields.item_tax"))),l(n,217,0,t["ɵunv"](n,217,0,t["ɵnov"](n,218).transform("estimates.create.fields.total_item_amount")),e.loginUser.currency.symbol),l(n,220,0,t["ɵunv"](n,220,0,t["ɵnov"](n,221).transform("common.actions"))),l(n,223,0,t["ɵnov"](n,226).ngClassUntouched,t["ɵnov"](n,226).ngClassTouched,t["ɵnov"](n,226).ngClassPristine,t["ɵnov"](n,226).ngClassDirty,t["ɵnov"](n,226).ngClassValid,t["ɵnov"](n,226).ngClassInvalid,t["ɵnov"](n,226).ngClassPending),l(n,229,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,229,0,t["ɵnov"](n,235).transform("estimates.create.placeholders.placeholder8")),""),t["ɵnov"](n,234).ngClassUntouched,t["ɵnov"](n,234).ngClassTouched,t["ɵnov"](n,234).ngClassPristine,t["ɵnov"](n,234).ngClassDirty,t["ɵnov"](n,234).ngClassValid,t["ɵnov"](n,234).ngClassInvalid,t["ɵnov"](n,234).ngClassPending),l(n,238,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,238,0,t["ɵnov"](n,244).transform("estimates.create.placeholders.placeholder9")),""),t["ɵnov"](n,243).ngClassUntouched,t["ɵnov"](n,243).ngClassTouched,t["ɵnov"](n,243).ngClassPristine,t["ɵnov"](n,243).ngClassDirty,t["ɵnov"](n,243).ngClassValid,t["ɵnov"](n,243).ngClassInvalid,t["ɵnov"](n,243).ngClassPending),l(n,248,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,248,0,t["ɵnov"](n,255).transform("estimates.create.placeholders.placeholder10")),""),t["ɵnov"](n,254).ngClassUntouched,t["ɵnov"](n,254).ngClassTouched,t["ɵnov"](n,254).ngClassPristine,t["ɵnov"](n,254).ngClassDirty,t["ɵnov"](n,254).ngClassValid,t["ɵnov"](n,254).ngClassInvalid,t["ɵnov"](n,254).ngClassPending),l(n,256,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,256,0,t["ɵnov"](n,262).transform("estimates.create.fields.unit")),""),t["ɵnov"](n,261).ngClassUntouched,t["ɵnov"](n,261).ngClassTouched,t["ɵnov"](n,261).ngClassPristine,t["ɵnov"](n,261).ngClassDirty,t["ɵnov"](n,261).ngClassValid,t["ɵnov"](n,261).ngClassInvalid,t["ɵnov"](n,261).ngClassPending),l(n,265,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,265,0,t["ɵnov"](n,272).transform("estimates.create.placeholders.placeholder11")),""),t["ɵnov"](n,271).ngClassUntouched,t["ɵnov"](n,271).ngClassTouched,t["ɵnov"](n,271).ngClassPristine,t["ɵnov"](n,271).ngClassDirty,t["ɵnov"](n,271).ngClassValid,t["ɵnov"](n,271).ngClassInvalid,t["ɵnov"](n,271).ngClassPending),l(n,275,1,[!t["ɵnov"](n,276).multiple,t["ɵnov"](n,276).typeahead,t["ɵnov"](n,276).multiple,t["ɵnov"](n,276).addTag,t["ɵnov"](n,276).searchable,t["ɵnov"](n,276).isOpen,t["ɵnov"](n,276).disabled,t["ɵnov"](n,276).filtered,t["ɵnov"](n,293).ngClassUntouched,t["ɵnov"](n,293).ngClassTouched,t["ɵnov"](n,293).ngClassPristine,t["ɵnov"](n,293).ngClassDirty,t["ɵnov"](n,293).ngClassValid,t["ɵnov"](n,293).ngClassInvalid,t["ɵnov"](n,293).ngClassPending]),l(n,299,0,t["ɵnov"](n,300).ariaDescribedby),l(n,313,0,t["ɵunv"](n,313,0,t["ɵnov"](n,314).transform("estimates.create.fields.sub_total")));var u=e.loginUser.currency.symbol,i=t["ɵunv"](n,316,1,l(n,317,0,t["ɵnov"](n.parent,0),e.estimates.sub_total,"1.2-2"));l(n,316,0,u,i),l(n,328,0,t["ɵunv"](n,328,0,t["ɵnov"](n,329).transform("estimates.create.fields.discount"))),l(n,331,0,t["ɵnov"](n,337).ngClassUntouched,t["ɵnov"](n,337).ngClassTouched,t["ɵnov"](n,337).ngClassPristine,t["ɵnov"](n,337).ngClassDirty,t["ɵnov"](n,337).ngClassValid,t["ɵnov"](n,337).ngClassInvalid,t["ɵnov"](n,337).ngClassPending);var a=e.loginUser.currency.symbol,s=t["ɵunv"](n,339,1,l(n,340,0,t["ɵnov"](n.parent,0),e.total_discount,"1.2-2"));l(n,339,0,a,s),l(n,348,0,t["ɵunv"](n,348,0,t["ɵnov"](n,349).transform("estimates.create.fields.adjustment"))),l(n,351,0,t["ɵnov"](n,357).ngClassUntouched,t["ɵnov"](n,357).ngClassTouched,t["ɵnov"](n,357).ngClassPristine,t["ɵnov"](n,357).ngClassDirty,t["ɵnov"](n,357).ngClassValid,t["ɵnov"](n,357).ngClassInvalid,t["ɵnov"](n,357).ngClassPending);var o=e.loginUser.currency.symbol,d=t["ɵunv"](n,359,1,l(n,360,0,t["ɵnov"](n.parent,0),e.estimates.adjustment,"1.2-2"));l(n,359,0,o,d),l(n,369,0,t["ɵunv"](n,369,0,t["ɵnov"](n,370).transform("estimates.create.fields.total_amount")));var r=e.loginUser.currency.symbol,c=t["ɵunv"](n,372,1,l(n,373,0,t["ɵnov"](n.parent,0),e.estimates.total,"1.2-2"));l(n,372,0,r,c),l(n,376,0,t["ɵnov"](n,377).target,t["ɵnov"](n,377).href),l(n,379,0,t["ɵunv"](n,379,0,t["ɵnov"](n,380).transform("common.cancel"))),l(n,382,0,t["ɵunv"](n,382,0,t["ɵnov"](n,383).transform("common.update")))}))}function Ll(l){return t["ɵvid"](0,[t["ɵpid"](0,d.DecimalPipe,[t.LOCALE_ID]),(l()(),t["ɵeld"](1,0,null,null,2,"section",[["id","basic-form-layouts"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Ul)),t["ɵdid"](3,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.isFormLoaded)}),null)}function Bl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"app-estimate-edit",[],null,null,null,Ll,Tl)),t["ɵdid"](1,114688,null,0,Il,[p.j,d.DatePipe,o.Router,o.ActivatedRoute,J.f,j.j,R,el.a,nl.a,tl.a,C.a],null,null)],(function(l,n){l(n,1,0)}),null)}var $l=t["ɵccf"]("app-estimate-edit",Il,Bl,{},{},[]),Kl=e("/SA8"),Ml=function(){function l(l,n,e,t,u,i,a,s,o,d){var r=this;this.translate=l,this.router=n,this.route=e,this.toastr=t,this.exportAsService=u,this.estimateService=i,this.estimateSettingService=a,this.taxService=s,this.helperService=o,this.authenticationService=d,this.apiUrl=y.a.apiUrl,this.itemTaxes=[],this.taxesNameValues=[],this.isPageLoad=!1,this.estimates={sub_total:0,total_taxes:0,total:0},this.exportAsConfig={type:"pdf",elementIdOrContent:"estimate_table"},this.authenticationService.loginUser.subscribe((function(l){return r.loginUser=l})),this.route.paramMap.subscribe((function(l){r.getById(l.get("id"))}))}return l.prototype.ngOnInit=function(){this.getEstimateSettings()},l.prototype.getById=function(l){var n=this;this.estimateService.getById(l).subscribe((function(l){n.estimate=l,n.getTaxes()}))},l.prototype.getEstimateSettings=function(){var l=this;this.estimateSettingService.getAll().subscribe((function(n){l.estimateSettings=n}))},l.prototype.getTaxes=function(){var l=this;this.taxService.getAll().subscribe((function(n){for(var e in l.taxes=n,l.taxes)null==l.taxesNameValues[l.taxes[e].id]&&(l.taxesNameValues[l.taxes[e].id]=[]),l.taxesNameValues[l.taxes[e].id]=l.taxes[e];l.getItemTaxes()}))},l.prototype.getItemTaxes=function(){this.estimates.sub_total=0,this.estimates.total_taxes=0,this.estimates.total=0;var l=0;for(var n in this.estimate.items){for(var e in l=this.estimate.items[n].quantity*this.estimate.items[n].unit_price,this.estimate.items[n].taxes){var t;null==this.itemTaxes[this.estimate.items[n].taxes[e].id]&&(this.itemTaxes[this.estimate.items[n].taxes[e].id]=0),this.estimates.total_taxes+=t=l*this.estimate.items[n].taxes[e].tax_rate/100,this.itemTaxes[this.estimate.items[n].taxes[e].id]=this.itemTaxes[this.estimate.items[n].taxes[e].id]+t}this.estimates.sub_total+=l}this.estimates.total=this.estimates.sub_total+this.estimates.total_taxes-this.estimate.total_discount+this.estimate.adjustment,this.isPageLoad=!0},l.prototype.downloadInvoice=function(l){this.exportAsService.save(this.exportAsConfig,l).subscribe((function(){}))},l.prototype.changeEstimateStatus=function(l,n){var e=this;this.estimateService.changeStatus({id:l,status:n}).subscribe((function(l){e.toastr.success(e.translate.instant("estimates.messages.status"),e.translate.instant("estimates.title")),e.estimate.status=n}))},l}(),Hl=t["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function Zl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,16777216,null,null,3,"a",[["class","btn btn-create mb-0"],["type","button"]],[[8,"href",4],[1,"aria-describedby",0]],null,null,null,null)),t["ɵdid"](1,212992,null,0,r.c,[t.ViewContainerRef,c.a,r.a,t.ElementRef,t.Renderer2,m.a],{tooltip:[0,"tooltip"]},null),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](3,0,null,null,0,"i",[["class","ft-download mr-1"]],null,null,null,null,null)),(l()(),t["ɵand"](0,null,null,0))],(function(l,n){l(n,1,0,t["ɵinlineInterpolate"](1,"",t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.download")),""))}),(function(l,n){var e=n.component;l(n,0,0,t["ɵinlineInterpolate"](3,"",e.apiUrl,"/estimates/download/",e.estimate.secret_id,"/",e.estimate.client.id,""),t["ɵnov"](n,1).ariaDescribedby)}))}function Gl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","ribbon ribbon-bookmark ribbon-draft"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.draft")))}))}function zl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","ribbon ribbon-bookmark ribbon-sent"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.sent")))}))}function Wl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","ribbon ribbon-bookmark ribbon-expired"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.expired")))}))}function Yl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","ribbon ribbon-bookmark ribbon-declined"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.decline")))}))}function Jl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","ribbon ribbon-bookmark ribbon-accepted"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["ɵunv"](n,1,0,t["ɵnov"](n,2).transform("estimates.view.accepted")))}))}function Ql(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,0,"img",[["alt","Estimate Logo"],["height","80"],["width","80"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var e=n.component;l(n,0,0,t["ɵinlineInterpolate"](2,"",e.apiUrl,"/uploads/estimate_logo/",e.estimateSettings.estimate_logo,""))}))}function Xl(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,0,"img",[["alt","Estimate Logo"],["height","80"],["src","assets/img/logos/vipspm_logo.png"],["width","80"]],null,null,null,null,null))],null,null)}function ln(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["ɵted"](2,null,[""," :"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵted"](4,null,[" ",""]))],null,(function(l,n){var e=n.component;l(n,2,0,t["ɵunv"](n,2,0,t["ɵnov"](n,3).transform("estimates.create.fields.reference"))),l(n,4,0,e.estimate.reference)}))}function nn(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,1,"span",[["class","open"]],null,null,null,null,null)),(l()(),t["ɵted"](2,null,[""," (","%)"]))],null,(function(l,n){l(n,2,0,n.context.$implicit.tax_name,n.context.$implicit.tax_rate)}))}function en(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["ɵted"](2,null,["",""])),(l()(),t["ɵeld"](3,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](4,0,null,null,1,"p",[["class","mb-0"]],null,null,null,null,null)),(l()(),t["ɵted"](5,null,["",""])),(l()(),t["ɵeld"](6,0,null,null,1,"p",[["class","mb-0 text-muted"]],null,null,null,null,null)),(l()(),t["ɵted"](7,null,["",""])),(l()(),t["ɵeld"](8,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](10,null,["",""])),(l()(),t["ɵeld"](11,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t["ɵted"](12,null,[" ",""])),(l()(),t["ɵeld"](13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](14,null,["",""])),(l()(),t["ɵeld"](15,0,null,null,2,"td",[["class","budges-status"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,nn)),t["ɵdid"](17,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["ɵeld"](18,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](19,null,["",""]))],(function(l,n){l(n,17,0,n.context.$implicit.taxes)}),(function(l,n){l(n,2,0,n.context.index+1),l(n,5,0,n.context.$implicit.item_name),l(n,7,0,n.context.$implicit.item_description),l(n,10,0,n.context.$implicit.quantity),l(n,12,0,n.context.$implicit.item_unit),l(n,14,0,n.context.$implicit.unit_price),l(n,19,0,n.context.$implicit.unit_price*n.context.$implicit.quantity)}))}function tn(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](2,null,[""," (","%)"])),(l()(),t["ɵeld"](3,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](4,null,["","",""])),t["ɵppd"](5,2)],null,(function(l,n){var e=n.component;l(n,2,0,e.taxesNameValues[n.context.$implicit.key].tax_name,e.taxesNameValues[n.context.$implicit.key].tax_rate);var u=e.loginUser.currency.symbol,i=t["ɵunv"](n,4,1,l(n,5,0,t["ɵnov"](n.parent.parent,1),n.context.$implicit.value,"1.2-2"));l(n,4,0,u,i)}))}function un(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,2,"button",[["class","btn btn-submit"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.changeEstimateStatus(u.estimate.id,"accepted")&&t),t}),null,null)),(l()(),t["ɵted"](2,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](4,0,null,null,2,"button",[["class","btn btn-cancel"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.changeEstimateStatus(u.estimate.id,"declined")&&t),t}),null,null)),(l()(),t["ɵted"](5,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["ɵunv"](n,2,0,t["ɵnov"](n,3).transform("estimates.view.accept"))),l(n,5,0,t["ɵunv"](n,5,0,t["ɵnov"](n,6).transform("estimates.view.decline")))}))}function an(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,2,"button",[["class","btn btn-submit"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.changeEstimateStatus(u.estimate.id,"accepted")&&t),t}),null,null)),(l()(),t["ɵted"](2,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["ɵunv"](n,2,0,t["ɵnov"](n,3).transform("estimates.view.accept")))}))}function sn(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,150,"section",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,3,"div",[["class","col-12 text-center text-sm-right"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,2,null,Zl)),t["ɵdid"](4,737280,null,0,g.NgxPermissionsDirective,[g.NgxPermissionsService,g.NgxPermissionsConfigurationService,g.NgxRolesService,t.ViewContainerRef,t.ChangeDetectorRef,t.TemplateRef],{ngxPermissionsOnly:[0,"ngxPermissionsOnly"]},null),t["ɵpad"](5,3),(l()(),t["ɵeld"](6,0,null,null,138,"div",[["class","row"],["id","estimate_table"]],null,null,null,null,null)),(l()(),t["ɵeld"](7,0,null,null,137,"div",[["class","col-md-12 col-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](8,0,null,null,136,"div",[["class","card"]],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,135,"div",[["class","card-content p-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](10,0,null,null,134,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t["ɵeld"](11,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](12,0,null,null,23,"div",[["class","col-md-6 col-12"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Gl)),t["ɵdid"](14,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,zl)),t["ɵdid"](16,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,Wl)),t["ɵdid"](18,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,Yl)),t["ɵdid"](20,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,Jl)),t["ɵdid"](22,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](23,0,null,null,12,"div",[["class","media logo-img pt-5"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,Ql)),t["ɵdid"](25,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,Xl)),t["ɵdid"](27,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](28,0,null,null,7,"div",[["class","media-body ml-4"]],null,null,null,null,null)),(l()(),t["ɵeld"](29,0,null,null,6,"ul",[["class","m-0 list-unstyled"]],null,null,null,null,null)),(l()(),t["ɵeld"](30,0,null,null,1,"li",[["class","text-bold-800"]],null,null,null,null,null)),(l()(),t["ɵted"](31,null,["",""])),(l()(),t["ɵeld"](32,0,null,null,1,"li",[["class","nl2br"]],null,null,null,null,null)),(l()(),t["ɵted"](33,null,["",""])),(l()(),t["ɵeld"](34,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["ɵted"](35,null,["",""])),(l()(),t["ɵeld"](36,0,null,null,5,"div",[["class","col-md-6 col-12 text-right"]],null,null,null,null,null)),(l()(),t["ɵeld"](37,0,null,null,2,"h2",[["class","primary text-uppercase"]],null,null,null,null,null)),(l()(),t["ɵted"](38,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](40,0,null,null,1,"p",[["class","pb-3"]],null,null,null,null,null)),(l()(),t["ɵted"](41,null,["# ",""])),(l()(),t["ɵeld"](42,0,null,null,29,"div",[["class","row"],["id","invoice-customer-details"]],null,null,null,null,null)),(l()(),t["ɵeld"](43,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](44,0,null,null,2,"p",[["class","text-muted mb-1"]],null,null,null,null,null)),(l()(),t["ɵted"](45,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](47,0,null,null,9,"div",[["class","col-md-4 col-12 text-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](48,0,null,null,8,"ul",[["class","m-0 list-unstyled"]],null,null,null,null,null)),(l()(),t["ɵeld"](49,0,null,null,1,"li",[["class","text-bold-800"]],null,null,null,null,null)),(l()(),t["ɵted"](50,null,[""," ",""])),(l()(),t["ɵeld"](51,0,null,null,1,"li",[["class","nl2br"]],null,null,null,null,null)),(l()(),t["ɵted"](52,null,["",""])),(l()(),t["ɵeld"](53,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["ɵted"](54,null,["",""])),(l()(),t["ɵeld"](55,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["ɵted"](56,null,["",""])),(l()(),t["ɵeld"](57,0,null,null,14,"div",[["class","col-md-8 col-12 text-right"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,ln)),t["ɵdid"](59,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](60,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),t["ɵeld"](61,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["ɵted"](62,null,[""," :"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵted"](64,null,[" ",""])),t["ɵppd"](65,2),(l()(),t["ɵeld"](66,0,null,null,5,"p",[["class","m-0"]],null,null,null,null,null)),(l()(),t["ɵeld"](67,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["ɵted"](68,null,[""," :"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵted"](70,null,[" ",""])),t["ɵppd"](71,2),(l()(),t["ɵeld"](72,0,null,null,72,"div",[["id","invoice-items-details"]],null,null,null,null,null)),(l()(),t["ɵeld"](73,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](74,0,null,null,24,"div",[["class","table-responsive col-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](75,0,null,null,23,"table",[["class","table mt-3"]],null,null,null,null,null)),(l()(),t["ɵeld"](76,0,null,null,19,"thead",[],null,null,null,null,null)),(l()(),t["ɵeld"](77,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](78,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["#"])),(l()(),t["ɵeld"](80,0,null,null,3,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](81,null,[""," & ",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](84,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](85,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](87,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](88,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](90,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["ɵted"](91,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](93,0,null,null,2,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](94,null,[""," (",")"])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](96,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,en)),t["ɵdid"](98,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["ɵeld"](99,0,null,null,36,"div",[["class","row mt-3 mt-md-0"]],null,null,null,null,null)),(l()(),t["ɵeld"](100,0,null,null,0,"div",[["class","col-md-6 col-12 text-left"]],null,null,null,null,null)),(l()(),t["ɵeld"](101,0,null,null,34,"div",[["class","col-md-6 col-12"]],null,null,null,null,null)),(l()(),t["ɵeld"](102,0,null,null,33,"div",[["class","table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl"]],null,null,null,null,null)),(l()(),t["ɵeld"](103,0,null,null,32,"table",[["class","table"]],null,null,null,null,null)),(l()(),t["ɵeld"](104,0,null,null,31,"tbody",[],null,null,null,null,null)),(l()(),t["ɵeld"](105,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](106,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](107,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](109,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](110,null,["","",""])),t["ɵppd"](111,2),(l()(),t["ɵand"](16777216,null,null,2,null,tn)),t["ɵdid"](113,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵpid"](0,d.KeyValuePipe,[t.KeyValueDiffers]),(l()(),t["ɵeld"](115,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](116,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](117,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](119,0,null,null,2,"td",[["class","danger text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](120,null,["(-) ","",""])),t["ɵppd"](121,2),(l()(),t["ɵeld"](122,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](123,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["ɵted"](124,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](126,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](127,null,["","",""])),t["ɵppd"](128,2),(l()(),t["ɵeld"](129,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t["ɵeld"](130,0,null,null,2,"td",[["class","text-bold-500"]],null,null,null,null,null)),(l()(),t["ɵted"](131,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](133,0,null,null,2,"td",[["class","text-bold-500 text-right"]],null,null,null,null,null)),(l()(),t["ɵted"](134,null,[" ","",""])),t["ɵppd"](135,2),(l()(),t["ɵeld"](136,0,null,null,8,"div",[["class","row mt-2 mt-sm-0 pt-3 border-top"]],null,null,null,null,null)),(l()(),t["ɵeld"](137,0,null,null,7,"div",[["class","col-md-12 col-12 d-flex align-items-center"]],null,null,null,null,null)),(l()(),t["ɵeld"](138,0,null,null,6,"div",[["class","terms-conditions mb-2"]],null,null,null,null,null)),(l()(),t["ɵeld"](139,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),t["ɵeld"](140,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["ɵted"](141,null,["",""])),t["ɵpid"](131072,p.i,[p.j,t.ChangeDetectorRef]),(l()(),t["ɵeld"](143,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["ɵted"](144,null,["",""])),(l()(),t["ɵeld"](145,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](146,0,null,null,4,"div",[["class","col-12 text-center text-sm-right"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,un)),t["ɵdid"](148,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,an)),t["ɵdid"](150,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,5,0,"admin","super_admin","estimates_view");l(n,4,0,u),l(n,14,0,"draft"==e.estimate.status),l(n,16,0,"sent"==e.estimate.status),l(n,18,0,"expired"==e.estimate.status),l(n,20,0,"declined"==e.estimate.status),l(n,22,0,"accepted"==e.estimate.status),l(n,25,0,e.estimateSettings.estimate_logo),l(n,27,0,!e.estimateSettings.estimate_logo),l(n,59,0,e.estimate.reference),l(n,98,0,e.estimate.items),l(n,113,0,t["ɵunv"](n,113,0,t["ɵnov"](n,114).transform(e.itemTaxes))),l(n,148,0,"draft"==e.estimate.status||"sent"==e.estimate.status),l(n,150,0,"declined"==e.estimate.status)}),(function(l,n){var e=n.component;l(n,31,0,e.loginUser.settings.company_name),l(n,33,0,e.loginUser.settings.company_address),l(n,35,0,e.loginUser.settings.company_phone),l(n,38,0,t["ɵunv"](n,38,0,t["ɵnov"](n,39).transform("estimates.title4"))),l(n,41,0,e.estimate.estimate_number),l(n,45,0,t["ɵunv"](n,45,0,t["ɵnov"](n,46).transform("estimates.view.bill_to"))),l(n,50,0,e.estimate.client.firstname,e.estimate.client.lastname),l(n,52,0,e.estimate.client.address),l(n,54,0,e.estimate.client.phone),l(n,56,0,e.estimate.client.mobile),l(n,62,0,t["ɵunv"](n,62,0,t["ɵnov"](n,63).transform("estimates.view.estimate_date")));var u=t["ɵunv"](n,64,0,l(n,65,0,t["ɵnov"](n.parent,0),e.estimate.estimate_date,e.loginUser.settings.date_format));l(n,64,0,u),l(n,68,0,t["ɵunv"](n,68,0,t["ɵnov"](n,69).transform("estimates.view.due_date")));var i=t["ɵunv"](n,70,0,l(n,71,0,t["ɵnov"](n.parent,0),e.estimate.valid_till,e.loginUser.settings.date_format));l(n,70,0,i),l(n,81,0,t["ɵunv"](n,81,0,t["ɵnov"](n,82).transform("estimates.create.fields.item_name")),t["ɵunv"](n,81,1,t["ɵnov"](n,83).transform("estimates.create.fields.item_description"))),l(n,85,0,t["ɵunv"](n,85,0,t["ɵnov"](n,86).transform("estimates.create.fields.quantity"))),l(n,88,0,t["ɵunv"](n,88,0,t["ɵnov"](n,89).transform("estimates.create.fields.unit_price"))),l(n,91,0,t["ɵunv"](n,91,0,t["ɵnov"](n,92).transform("estimates.create.fields.item_tax"))),l(n,94,0,t["ɵunv"](n,94,0,t["ɵnov"](n,95).transform("estimates.create.fields.total_item_amount")),e.loginUser.currency.symbol),l(n,107,0,t["ɵunv"](n,107,0,t["ɵnov"](n,108).transform("estimates.create.fields.sub_total")));var a=e.loginUser.currency.symbol,s=t["ɵunv"](n,110,1,l(n,111,0,t["ɵnov"](n.parent,1),e.estimates.sub_total,"1.2-2"));l(n,110,0,a,s),l(n,117,0,t["ɵunv"](n,117,0,t["ɵnov"](n,118).transform("estimates.create.fields.discount")));var o=e.loginUser.currency.symbol,d=t["ɵunv"](n,120,1,l(n,121,0,t["ɵnov"](n.parent,1),e.estimate.total_discount,"1.2-2"));l(n,120,0,o,d),l(n,124,0,t["ɵunv"](n,124,0,t["ɵnov"](n,125).transform("estimates.create.fields.adjustment")));var r=e.loginUser.currency.symbol,c=t["ɵunv"](n,127,1,l(n,128,0,t["ɵnov"](n.parent,1),e.estimate.adjustment,"1.2-2"));l(n,127,0,r,c),l(n,131,0,t["ɵunv"](n,131,0,t["ɵnov"](n,132).transform("estimates.create.fields.total_amount")));var m=e.loginUser.currency.symbol,p=t["ɵunv"](n,134,1,l(n,135,0,t["ɵnov"](n.parent,1),e.estimates.total,"1.2-2"));l(n,134,0,m,p),l(n,141,0,t["ɵunv"](n,141,0,t["ɵnov"](n,142).transform("estimates.view.terms"))),l(n,144,0,e.estimateSettings.terms_conditions)}))}function on(l){return t["ɵvid"](0,[t["ɵpid"](0,h.a,[]),t["ɵpid"](0,d.DecimalPipe,[t.LOCALE_ID]),(l()(),t["ɵand"](16777216,null,null,1,null,sn)),t["ɵdid"](3,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.isPageLoad)}),null)}function dn(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"app-estimate-view",[],null,null,null,on,Hl)),t["ɵdid"](1,114688,null,0,Ml,[p.j,o.Router,o.ActivatedRoute,j.j,w.b,R,ll.a,tl.a,Kl.a,C.a],null,null)],(function(l,n){l(n,1,0)}),null)}var rn=t["ɵccf"]("app-estimate-view",Ml,dn,{},{},[]),cn=e("ES0t"),mn=e("z5nN"),pn=e("atuK"),gn=e("Xg1U"),vn=e("iutN"),fn=e("5m66"),hn=e("OZfm"),bn=e("a5Sb"),Cn=e("Xo4C"),yn=e("DQlY"),xn={breadcrumbs:{text:"common.create",icon:"fa fa-external-link",show:!0,isHome:!0},permissions:{only:["admin","super_admin","estimates_create"]}},Rn={breadcrumbs:{text:"common.edit",icon:"fa fa-external-link",show:!0,isHome:!0},permissions:{only:["admin","super_admin","estimates_edit"]}},_n={breadcrumbs:{text:"common.detail",icon:"fa fa-external-link"},permissions:{only:["admin","super_admin","estimates_view"]}},In=function(){return function(){}}(),Tn=e("axVG"),Dn=e("PCNd");e.d(n,"EstimatesModuleNgFactory",(function(){return Vn}));var Vn=t["ɵcmf"](a,[],(function(l){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[s.a,K,_l,$l,rn,cn.a,mn.a,mn.b,pn.e,pn.a,pn.c,pn.b,pn.d,gn.a,vn.a,fn.b]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[t.LOCALE_ID,[2,d["ɵangular_packages_common_common_a"]]]),t["ɵmpd"](4608,J.A,J.A,[]),t["ɵmpd"](4608,J.f,J.f,[]),t["ɵmpd"](4608,w.b,w.b,[]),t["ɵmpd"](4608,hn.a,hn.a,[]),t["ɵmpd"](4608,m.a,m.a,[t.NgZone,t.RendererFactory2,t.PLATFORM_ID]),t["ɵmpd"](4608,c.a,c.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,m.a,t.ApplicationRef]),t["ɵmpd"](4608,bn.d,bn.d,[x.c]),t["ɵmpd"](4608,bn.c,bn.c,[]),t["ɵmpd"](4608,X.q,X.q,[]),t["ɵmpd"](4608,X.v,X.v,[]),t["ɵmpd"](4608,X.x,X.x,[]),t["ɵmpd"](4608,X.a,X.a,[]),t["ɵmpd"](4608,X.h,X.h,[]),t["ɵmpd"](4608,X.d,X.d,[]),t["ɵmpd"](4608,X.k,X.k,[]),t["ɵmpd"](4608,X.n,X.n,[]),t["ɵmpd"](4608,X.w,X.w,[X.x,X.n]),t["ɵmpd"](4608,r.a,r.a,[]),t["ɵmpd"](5120,p.f,i,[x.c]),t["ɵmpd"](4608,p.c,p.e,[]),t["ɵmpd"](4608,p.h,p.d,[]),t["ɵmpd"](4608,p.b,p.a,[]),t["ɵmpd"](4608,p.j,p.j,[p.k,p.f,p.c,p.h,p.b,p.l,p.m]),t["ɵmpd"](4608,d.DatePipe,d.DatePipe,[t.LOCALE_ID]),t["ɵmpd"](4608,Cn.a,Cn.a,[]),t["ɵmpd"](4608,h.a,h.a,[]),t["ɵmpd"](4608,yn.b,yn.b,[t.RendererFactory2,c.a]),t["ɵmpd"](4608,v.f,v.f,[]),t["ɵmpd"](1073742336,d.CommonModule,d.CommonModule,[]),t["ɵmpd"](1073742336,o.RouterModule,o.RouterModule,[[2,o["ɵangular_packages_router_router_a"]],[2,o.Router]]),t["ɵmpd"](1073742336,In,In,[]),t["ɵmpd"](1073742336,J.z,J.z,[]),t["ɵmpd"](1073742336,J.j,J.j,[]),t["ɵmpd"](1073742336,J.w,J.w,[]),t["ɵmpd"](1073742336,g.NgxPermissionsModule,g.NgxPermissionsModule,[]),t["ɵmpd"](1073742336,Tn.a,Tn.a,[]),t["ɵmpd"](1073742336,w.a,w.a,[]),t["ɵmpd"](1073742336,hn.d,hn.d,[]),t["ɵmpd"](1073742336,bn.a,bn.a,[]),t["ɵmpd"](1073742336,M.c,M.c,[]),t["ɵmpd"](1073742336,yn.e,yn.e,[]),t["ɵmpd"](1073742336,X.r,X.r,[]),t["ɵmpd"](1073742336,X.g,X.g,[]),t["ɵmpd"](1073742336,r.d,r.d,[]),t["ɵmpd"](1073742336,v.e,v.e,[]),t["ɵmpd"](1073742336,p.g,p.g,[]),t["ɵmpd"](1073742336,Dn.a,Dn.a,[]),t["ɵmpd"](1073742336,a,a,[]),t["ɵmpd"](1024,o.ROUTES,(function(){return[[{path:"",children:[{path:"",canActivate:[g.NgxPermissionsGuard],component:V},{path:"create",canActivate:[g.NgxPermissionsGuard],data:xn,component:il},{path:"edit/:id",canActivate:[g.NgxPermissionsGuard],data:Rn,component:Il},{path:"detail/:id",canActivate:[g.NgxPermissionsGuard],data:_n,component:Ml}]}]]}),[]),t["ɵmpd"](256,M.d,M.e,[]),t["ɵmpd"](256,p.m,void 0,[]),t["ɵmpd"](256,p.l,void 0,[]),t["ɵmpd"](256,v.a,{autoClose:!0,insideClick:!1},[])])}))}}]);